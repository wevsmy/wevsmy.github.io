<!doctype html><html lang=zh-cn><head prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#"><meta charset=utf-8><meta name=generator content="Hugo 0.87.0"><meta name=theme-color content="#fff"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=format-detection content="telephone=no, date=no, address=no, email=no"><meta http-equiv=cache-control content="no-transform"><meta http-equiv=cache-control content="no-siteapp"><title>DjangoåŸºç¡€01 | WEII</title><link rel=stylesheet href=/css/meme.min.687dc855a32e931198dae80ad67169a4f757d48b5d1f2f6f45c5a7c57cbf77ab.css><script src=/js/meme.min.8cbe976441b5181abfd3093c9beee209b19cdbb1fa77c48d225a83ba81fa3fb1.js></script>
<link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,500;0,700;1,400;1,700&family=Noto+Serif+SC:wght@400;500;700&family=Source+Code+Pro:ital,wght@0,400;0,700;1,400;1,700&display=swap" media=print onload="this.media='all'"><noscript><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,500;0,700;1,400;1,700&family=Noto+Serif+SC:wght@400;500;700&family=Source+Code+Pro:ital,wght@0,400;0,700;1,400;1,700&display=swap"></noscript><meta name=author content="weii"><meta name=description content="è¿™æ˜¯ğŸ‘‰DjangoåŸºç¡€01ğŸ‘ˆçš„æ‘˜è¦â€¦â€¦"><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><link rel=mask-icon href=/icons/safari-pinned-tab.svg color=#2a6df4><link rel=apple-touch-icon sizes=180x180 href=/icons/apple-touch-icon.png><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-title content="WEII"><meta name=apple-mobile-web-app-status-bar-style content="black"><meta name=mobile-web-app-capable content="yes"><meta name=application-name content="WEII"><meta name=msapplication-starturl content="../../../../"><meta name=msapplication-TileColor content="#fff"><meta name=msapplication-TileImage content="../../../../icons/mstile-150x150.png"><link rel=manifest href=/manifest.json><link rel=canonical href=https://www.weii.xyz/2018/03/22/cnblog_8621513/><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","datePublished":"2018-03-22T01:17:00+00:00","dateModified":"2019-11-20T14:11:45+08:00","url":"https://www.weii.xyz/2018/03/22/cnblog_8621513/","headline":"DjangoåŸºç¡€01","description":"è¿™æ˜¯ğŸ‘‰DjangoåŸºç¡€01ğŸ‘ˆçš„æ‘˜è¦â€¦â€¦","inLanguage":"zh-CN","articleSection":"posts","wordCount":4236,"image":["https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif","https://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif","https://images2017.cnblogs.com/blog/867021/201801/867021-20180110190001816-1349372864.png"],"author":{"@type":"Person","description":"Viva La Vida","email":"wevsmy@gmail.com","image":"https://www.weii.xyz/icons/apple-touch-icon.png","url":"https://weii.xyz/","name":"weii"},"license":"[CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh)","publisher":{"@type":"Organization","name":"WEII","logo":{"@type":"ImageObject","url":"https://www.weii.xyz/icons/apple-touch-icon.png"},"url":"https://www.weii.xyz/"},"mainEntityOfPage":{"@type":"WebSite","@id":"https://www.weii.xyz/"}}</script><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@wevsmy"><meta name=twitter:creator content="@wevsmy"><meta property="og:title" content="DjangoåŸºç¡€01"><meta property="og:description" content="è¿™æ˜¯ğŸ‘‰DjangoåŸºç¡€01ğŸ‘ˆçš„æ‘˜è¦â€¦â€¦"><meta property="og:url" content="https://www.weii.xyz/2018/03/22/cnblog_8621513/"><meta property="og:site_name" content="WEII"><meta property="og:locale" content="zh"><meta property="og:image" content="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif"><meta property="og:type" content="article"><meta property="article:published_time" content="2018-03-22T01:17:00+00:00"><meta property="article:modified_time" content="2019-11-20T14:11:45+08:00"><meta property="article:section" content="posts"><meta name=google-site-verification content="LY-yWUgw7WEmNuBW7lLOj8jSiKZEVgOCmsisfGWtZCg"></head><body><div class=container><header class=header><div class=header-wrapper><div class="header-inner single"><div class=site-brand><a href=/ class=brand>WEII</a></div><nav class=nav><ul class=menu id=menu><li class=menu-item><a href=/posts/><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon archive"><path d="M32 448c0 17.7 14.3 32 32 32h384c17.7.0 32-14.3 32-32V160H32v288zm160-212c0-6.6 5.4-12 12-12h104c6.6.0 12 5.4 12 12v8c0 6.6-5.4 12-12 12H204c-6.6.0-12-5.4-12-12v-8zM480 32H32C14.3 32 0 46.3.0 64v48c0 8.8 7.2 16 16 16h480c8.8.0 16-7.2 16-16V64c0-17.7-14.3-32-32-32z"/></svg><span class=menu-item-name>æ–‡ç« </span></a></li><li class=menu-item><a href=/tags/><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" class="icon tags"><path d="M497.941 225.941 286.059 14.059A48 48 0 00252.118.0H48C21.49.0.0 21.49.0 48v204.118a48 48 0 0014.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882.0l204.118-204.118c18.745-18.745 18.745-49.137.0-67.882zM112 160c-26.51.0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882.0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397.0h48.721a48 48 0 0133.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137.0 67.882z"/></svg><span class=menu-item-name>æ ‡ç­¾</span></a></li><li class=menu-item><a href=/about/><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" class="icon user-circle"><path d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6.0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7.0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4.0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9s28-2.7 40.9-6.9c2.3-.7 4.7-1.1 7.1-1.1 42.9.0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"/></svg><span class=menu-item-name>å…³äº</span></a></li><li class=menu-item><a id=theme-switcher href=#><span class="icon theme-icon-light">ğŸŒ</span><span class="icon theme-icon-dark">ğŸŒ™</span></a></li></ul></nav></div></div><input type=checkbox id=nav-toggle aria-hidden=true>
<label for=nav-toggle class=nav-toggle></label>
<label for=nav-toggle class=nav-curtain></label></header><main class="main single" id=main><div class=main-inner><article class="content post h-entry" data-align=justify data-type=posts data-toc-num=true><h1 class="post-title p-name">DjangoåŸºç¡€01</h1><div class=post-meta><time datetime=2018-03-22T01:17:00+00:00 class="post-meta-item published dt-published"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="icon post-meta-icon"><path d="M148 288h-40c-6.6.0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6.0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm108-12v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm-96 96v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm-96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm192 0v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm96-260v352c0 26.5-21.5 48-48 48H48c-26.5.0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6.0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6.0 12 5.4 12 12v52h48c26.5.0 48 21.5 48 48zm-48 346V160H48v298c0 3.3 2.7 6 6 6h340c3.3.0 6-2.7 6-6z"/></svg>&nbsp;2018.3.22</time>
<time datetime=2019-11-20T14:11:45+08:00 class="post-meta-item modified dt-updated"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="icon post-meta-icon"><path d="M4e2 64h-48V12c0-6.627-5.373-12-12-12h-40c-6.627.0-12 5.373-12 12v52H160V12c0-6.627-5.373-12-12-12h-40c-6.627.0-12 5.373-12 12v52H48C21.49 64 0 85.49.0 112v352c0 26.51 21.49 48 48 48h352c26.51.0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm-6 4e2H54a6 6 0 01-6-6V160h352v298a6 6 0 01-6 6zm-52.849-200.65L198.842 404.519c-4.705 4.667-12.303 4.637-16.971-.068l-75.091-75.699c-4.667-4.705-4.637-12.303.068-16.971l22.719-22.536c4.705-4.667 12.303-4.637 16.97.069l44.104 44.461 111.072-110.181c4.705-4.667 12.303-4.637 16.971.068l22.536 22.718c4.667 4.705 4.636 12.303-.069 16.97z"/></svg>&nbsp;2019.11.20</time>
<span class="post-meta-item category"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon post-meta-icon"><path d="M464 128H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48C21.49 64 0 85.49.0 112v288c0 26.51 21.49 48 48 48h416c26.51.0 48-21.49 48-48V176c0-26.51-21.49-48-48-48zm0 272H48V112h140.12l54.63 54.63c6 6 14.14 9.37 22.63 9.37H464v224z"/></svg>&nbsp;<a href=/categories/%E7%AC%94%E8%AE%B0/ class="category-link p-category">ç¬”è®°</a>/<a href=/categories/%E5%8D%9A%E5%AE%A2%E5%9B%AD/ class="category-link p-category">åšå®¢å›­</a></span>
<span class="post-meta-item wordcount"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon post-meta-icon"><path d="M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3.0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9.0l60.1 60.1c18.8 18.7 18.8 49.1.0 67.9zM284.2 99.8 21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3.0-17l-111-111c-4.8-4.7-12.4-4.7-17.1.0zM124.1 339.9c-5.5-5.5-5.5-14.3.0-19.8l154-154c5.5-5.5 14.3-5.5 19.8.0s5.5 14.3.0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8.0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"/></svg>&nbsp;4236</span>
<span class="post-meta-item reading-time"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon post-meta-icon"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5.0-2e2-89.5-2e2-2e2S145.5 56 256 56s2e2 89.5 2e2 2e2-89.5 2e2-2e2 2e2zm61.8-104.4-84.9-61.7c-3.1-2.3-4.9-5.9-4.9-9.7V116c0-6.6 5.4-12 12-12h32c6.6.0 12 5.4 12 12v141.7l66.8 48.6c5.4 3.9 6.5 11.4 2.6 16.8L334.6 349c-3.9 5.3-11.4 6.5-16.8 2.6z"/></svg>&nbsp;9&nbsp;åˆ†é’Ÿ</span></div><div class="post-body e-content"><h1 id=è¿™æ˜¯djangoåŸºç¡€01çš„æ‘˜è¦20180322cnblog_8621513><a href=#è¿™æ˜¯djangoåŸºç¡€01çš„æ‘˜è¦20180322cnblog_8621513 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=/2018/03/22/cnblog_8621513/>è¿™æ˜¯ğŸ‘‰DjangoåŸºç¡€01ğŸ‘ˆçš„æ‘˜è¦</a></h1><h1 id=webæ¡†æ¶æœ¬è´¨><a href=#webæ¡†æ¶æœ¬è´¨ class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a>Webæ¡†æ¶æœ¬è´¨</h1><p>æˆ‘ä»¬å¯ä»¥è¿™æ ·ç†è§£ï¼šæ‰€æœ‰çš„Webåº”ç”¨æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªsocketæœåŠ¡ç«¯ï¼Œè€Œç”¨æˆ·çš„æµè§ˆå™¨å°±æ˜¯ä¸€ä¸ªsocketå®¢æˆ·ç«¯ã€‚ è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥è‡ªå·±å®ç°Webæ¡†æ¶äº†ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python>	<span class=kn>import</span> <span class=nn>socket</span>

    <span class=n>sk</span> <span class=o>=</span> <span class=n>socket</span><span class=o>.</span><span class=n>socket</span><span class=p>()</span>
    <span class=n>sk</span><span class=o>.</span><span class=n>bind</span><span class=p>((</span><span class=s2>&#34;127.0.0.1&#34;</span><span class=p>,</span> <span class=mi>80</span><span class=p>))</span>
    <span class=n>sk</span><span class=o>.</span><span class=n>listen</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span>

	<span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
		<span class=n>conn</span><span class=p>,</span> <span class=n>addr</span> <span class=o>=</span> <span class=n>sk</span><span class=o>.</span><span class=n>accept</span><span class=p>()</span>
		<span class=n>data</span> <span class=o>=</span> <span class=n>conn</span><span class=o>.</span><span class=n>recv</span><span class=p>(</span><span class=mi>8096</span><span class=p>)</span>
		<span class=n>conn</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=sa>b</span><span class=s2>&#34;OK&#34;</span><span class=p>)</span>
		<span class=n>conn</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</code></pre></td></tr></table></div></div></div><p>å¯ä»¥è¯´WebæœåŠ¡æœ¬è´¨ä¸Šéƒ½æ˜¯åœ¨è¿™åå‡ è¡Œä»£ç åŸºç¡€ä¸Šæ‰©å±•å‡ºæ¥çš„ã€‚è¿™æ®µä»£ç å°±æ˜¯å®ƒä»¬çš„ç¥–å®—ã€‚</p><p>ç”¨æˆ·çš„æµè§ˆå™¨ä¸€è¾“å…¥ç½‘å€ï¼Œä¼šç»™æœåŠ¡ç«¯å‘é€æ•°æ®ï¼Œé‚£æµè§ˆå™¨ä¼šå‘é€ä»€ä¹ˆæ•°æ®ï¼Ÿæ€ä¹ˆå‘ï¼Ÿè¿™ä¸ªè°æ¥å®šï¼Ÿ ä½ è¿™ä¸ªç½‘ç«™æ˜¯è¿™ä¸ªè§„å®šï¼Œä»–é‚£ä¸ªç½‘ç«™æŒ‰ç…§ä»–é‚£ä¸ªè§„å®šï¼Œè¿™äº’è”ç½‘è¿˜èƒ½ç©ä¹ˆï¼Ÿ</p><p>æ‰€ä»¥ï¼Œå¿…é¡»æœ‰ä¸€ä¸ªç»Ÿä¸€çš„è§„åˆ™ï¼Œè®©å¤§å®¶å‘é€æ¶ˆæ¯ã€æ¥æ”¶æ¶ˆæ¯çš„æ—¶å€™æœ‰ä¸ªæ ¼å¼ä¾æ®ï¼Œä¸èƒ½éšä¾¿å†™ã€‚</p><p>è¿™ä¸ªè§„åˆ™å°±æ˜¯HTTPåè®®ï¼Œä»¥åæµè§ˆå™¨å‘é€è¯·æ±‚ä¿¡æ¯ä¹Ÿå¥½ï¼ŒæœåŠ¡å™¨å›å¤å“åº”ä¿¡æ¯ä¹Ÿç½¢ï¼Œéƒ½è¦æŒ‰ç…§è¿™ä¸ªè§„åˆ™æ¥ã€‚</p><p>HTTPåè®®ä¸»è¦è§„å®šäº†å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡æ ¼å¼ï¼Œé‚£HTTPåè®®æ˜¯æ€ä¹ˆè§„å®šæ¶ˆæ¯æ ¼å¼çš„å‘¢ï¼Ÿ</p><p>è®©æˆ‘ä»¬é¦–å…ˆçœ‹ä¸‹æˆ‘ä»¬åœ¨æœåŠ¡ç«¯æ¥æ”¶åˆ°çš„æ¶ˆæ¯æ˜¯ä»€ä¹ˆã€‚</p><p>ç„¶åå†çœ‹ä¸‹æˆ‘ä»¬æµè§ˆå™¨æ”¶åˆ°çš„å“åº”ä¿¡æ¯æ˜¯ä»€ä¹ˆã€‚</p><p>å“åº”å¤´åœ¨æµè§ˆå™¨çš„networkçª—å£å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬çœ‹åˆ°çš„HTMLé¡µé¢å†…å®¹å°±æ˜¯å“åº”ä½“ã€‚æœ¬è´¨ä¸Šè¿˜æ˜¯å­—ç¬¦ä¸²ï¼Œå› ä¸ºæµè§ˆå™¨è®¤è¯†HTMLï¼Œæ‰€ä»¥æ‰ä¼šæ¸²æŸ“å‡ºé¡µé¢ã€‚</p><p><a href=http://www.cnblogs.com/liwenzhou/articles/8620663.html target=_blank rel=noopener>HTTPåè®®ä»‹ç»</a></p><p>æ¯ä¸ªHTTPè¯·æ±‚å’Œå“åº”éƒ½éµå¾ªç›¸åŒçš„æ ¼å¼ï¼Œä¸€ä¸ªHTTPåŒ…å«Headerå’ŒBodyä¸¤éƒ¨åˆ†ï¼Œå…¶ä¸­Bodyæ˜¯å¯é€‰çš„ã€‚ HTTPå“åº”çš„Headerä¸­æœ‰ä¸€ä¸ª
<code>Content-Type</code>è¡¨æ˜å“åº”çš„å†…å®¹æ ¼å¼ã€‚å¦‚ <code>text/html</code>è¡¨ç¤ºHTMLç½‘é¡µã€‚</p><p>HTTP GETè¯·æ±‚çš„æ ¼å¼ï¼š</p><p>â€‹<br>â€‹ GET /path HTTP/1.1
â€‹ header1:v1\r\n
â€‹ header2:v2\r\n</p><p>ä½¿ç”¨ <code>\r\n</code>åˆ†éš”å¤šä¸ªheader</p><p>HTTP POSTè¯·æ±‚æ ¼å¼ï¼š</p><p>â€‹<br>â€‹ POST /path HTTP/1.1
â€‹ header1:v1\r\n
â€‹ header2:v2\r\n
â€‹ \r\n\r\n
â€‹ è¯·æ±‚ä½“...</p><p>å½“é‡åˆ°è¿ç»­ä¸¤ä¸ª <code>\r\n\r\n</code>æ—¶ï¼Œè¡¨ç¤ºHeaderéƒ¨åˆ†ç»“æŸäº†ï¼Œåé¢çš„æ•°æ®æ˜¯Bodyã€‚</p><p>HTTPå“åº”çš„æ ¼å¼ï¼š</p><p>â€‹<br>â€‹ 200 OK
â€‹ Header1:v1\r\n
â€‹ Header2:v2\r\n
â€‹ \r\n\r\n
â€‹ å“åº”ä½“...</p><p>è®©æˆ‘ä»¬çš„Webæ¡†æ¶åœ¨ç»™å®¢æˆ·ç«¯å›å¤å“åº”çš„æ—¶å€™æŒ‰ç…§HTTPåè®®çš„è§„åˆ™åŠ ä¸Šå“åº”å¤´ï¼Œè¿™æ ·æˆ‘ä»¬å°±å®ç°äº†ä¸€ä¸ªæ­£ç»çš„Webæ¡†æ¶äº†ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python>	<span class=kn>import</span> <span class=nn>socket</span>

	<span class=n>sock</span> <span class=o>=</span> <span class=n>socket</span><span class=o>.</span><span class=n>socket</span><span class=p>(</span><span class=n>socket</span><span class=o>.</span><span class=n>AF_INET</span><span class=p>,</span> <span class=n>socket</span><span class=o>.</span><span class=n>SOCK_STREAM</span><span class=p>)</span>
	<span class=n>sock</span><span class=o>.</span><span class=n>bind</span><span class=p>((</span><span class=s1>&#39;127.0.0.1&#39;</span><span class=p>,</span> <span class=mi>8000</span><span class=p>))</span>
	<span class=n>sock</span><span class=o>.</span><span class=n>listen</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span>
	
	<span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
		<span class=n>conn</span><span class=p>,</span> <span class=n>addr</span> <span class=o>=</span> <span class=n>sock</span><span class=o>.</span><span class=n>accept</span><span class=p>()</span>
		<span class=n>data</span> <span class=o>=</span> <span class=n>conn</span><span class=o>.</span><span class=n>recv</span><span class=p>(</span><span class=mi>8096</span><span class=p>)</span>
		<span class=n>conn</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=sa>b</span><span class=s2>&#34;HTTP/1.1 200 OK</span><span class=se>\r\n\r\n</span><span class=s2>&#34;</span><span class=p>)</span>
		<span class=n>conn</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=sa>b</span><span class=s2>&#34;OK&#34;</span><span class=p>)</span>
		<span class=n>conn</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</code></pre></td></tr></table></div></div></div><p>ä¸Šè¿°é€šè¿‡socketæ¥å®ç°äº†å…¶æœ¬è´¨ã€‚</p><p>å¯¹äºçœŸå®å¼€å‘ä¸­çš„python webç¨‹åºæ¥è¯´ï¼Œä¸€èˆ¬ä¼šåˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šæœåŠ¡å™¨ç¨‹åºå’Œåº”ç”¨ç¨‹åºã€‚</p><p>æœåŠ¡å™¨ç¨‹åºè´Ÿè´£å¯¹socketæœåŠ¡å™¨è¿›è¡Œå°è£…ï¼Œå¹¶åœ¨è¯·æ±‚åˆ°æ¥æ—¶ï¼Œå¯¹è¯·æ±‚çš„å„ç§æ•°æ®è¿›è¡Œæ•´ç†ã€‚</p><p>åº”ç”¨ç¨‹åºåˆ™è´Ÿè´£å…·ä½“çš„é€»è¾‘å¤„ç†ã€‚ä¸ºäº†æ–¹ä¾¿åº”ç”¨ç¨‹åºçš„å¼€å‘ï¼Œå°±å‡ºç°äº†ä¼—å¤šçš„Webæ¡†æ¶ï¼Œä¾‹å¦‚ï¼šDjangoã€Flaskã€web.py
ç­‰ã€‚ä¸åŒçš„æ¡†æ¶æœ‰ä¸åŒçš„å¼€å‘æ–¹å¼ï¼Œä½†æ˜¯æ— è®ºå¦‚ä½•ï¼Œå¼€å‘å‡ºçš„åº”ç”¨ç¨‹åºéƒ½è¦å’ŒæœåŠ¡å™¨ç¨‹åºé…åˆï¼Œæ‰èƒ½ä¸ºç”¨æˆ·æä¾›æœåŠ¡ã€‚</p><p>è¿™æ ·ï¼ŒæœåŠ¡å™¨ç¨‹åºå°±éœ€è¦ä¸ºä¸åŒçš„æ¡†æ¶æä¾›ä¸åŒçš„æ”¯æŒã€‚è¿™æ ·æ··ä¹±çš„å±€é¢æ— è®ºå¯¹äºæœåŠ¡å™¨è¿˜æ˜¯æ¡†æ¶ï¼Œéƒ½æ˜¯ä¸å¥½çš„ã€‚å¯¹æœåŠ¡å™¨æ¥è¯´ï¼Œéœ€è¦æ”¯æŒå„ç§ä¸åŒæ¡†æ¶ï¼Œå¯¹æ¡†æ¶æ¥è¯´ï¼Œåªæœ‰æ”¯æŒå®ƒçš„æœåŠ¡å™¨æ‰èƒ½è¢«å¼€å‘å‡ºçš„åº”ç”¨ä½¿ç”¨ã€‚</p><p>è¿™æ—¶å€™ï¼Œæ ‡å‡†åŒ–å°±å˜å¾—å°¤ä¸ºé‡è¦ã€‚æˆ‘ä»¬å¯ä»¥è®¾ç«‹ä¸€ä¸ªæ ‡å‡†ï¼Œåªè¦æœåŠ¡å™¨ç¨‹åºæ”¯æŒè¿™ä¸ªæ ‡å‡†ï¼Œæ¡†æ¶ä¹Ÿæ”¯æŒè¿™ä¸ªæ ‡å‡†ï¼Œé‚£ä¹ˆä»–ä»¬å°±å¯ä»¥é…åˆä½¿ç”¨ã€‚ä¸€æ—¦æ ‡å‡†ç¡®å®šï¼ŒåŒæ–¹å„è‡ªå®ç°ã€‚è¿™æ ·ï¼ŒæœåŠ¡å™¨å¯ä»¥æ”¯æŒæ›´å¤šæ”¯æŒæ ‡å‡†çš„æ¡†æ¶ï¼Œæ¡†æ¶ä¹Ÿå¯ä»¥ä½¿ç”¨æ›´å¤šæ”¯æŒæ ‡å‡†çš„æœåŠ¡å™¨ã€‚</p><p>WSGIï¼ˆWeb Server Gateway
Interfaceï¼‰å°±æ˜¯ä¸€ç§è§„èŒƒï¼Œå®ƒå®šä¹‰äº†ä½¿ç”¨Pythonç¼–å†™çš„webåº”ç”¨ç¨‹åºä¸webæœåŠ¡å™¨ç¨‹åºä¹‹é—´çš„æ¥å£æ ¼å¼ï¼Œå®ç°webåº”ç”¨ç¨‹åºä¸webæœåŠ¡å™¨ç¨‹åºé—´çš„è§£è€¦ã€‚</p><p>å¸¸ç”¨çš„WSGIæœåŠ¡å™¨æœ‰uwsgiã€Gunicornã€‚è€ŒPythonæ ‡å‡†åº“æä¾›çš„ç‹¬ç«‹WSGIæœåŠ¡å™¨å«wsgirefï¼ŒDjangoå¼€å‘ç¯å¢ƒç”¨çš„å°±æ˜¯è¿™ä¸ªæ¨¡å—æ¥åšæœåŠ¡å™¨ã€‚</p><p>â€‹<br>â€‹ from wsgiref.simple_server import make_server</p><p>â€‹<br>â€‹ def run_server(environ, start_response):
â€‹ start_response('200 OK', [('Content-Type', 'text/html;charset=utf8')]) # è®¾ç½®HTTPå“åº”çš„çŠ¶æ€ç å’Œå¤´ä¿¡æ¯
â€‹ return [bytes("<h1>Hello world!</h1>", encoding="utf8"),]</p><p>â€‹<br>â€‹ if <strong>name</strong> == '<strong>main</strong>':
â€‹ httpd = make_server('', 8000, run_server)
â€‹ print("Serving HTTP on port 8000...")
â€‹ httpd.serve_forever()</p><p>è¿™æ ·å°±ç»“æŸäº†å—ï¼Ÿ å¦‚ä½•è®©æˆ‘ä»¬çš„WebæœåŠ¡æ ¹æ®ç”¨æˆ·è¯·æ±‚çš„URLä¸åŒè€Œè¿”å›ä¸åŒçš„å†…å®¹å‘¢ï¼Ÿ</p><p>å°äº‹ä¸€æ¡©ï¼Œæˆ‘ä»¬å¯ä»¥ä»è¯·æ±‚ç›¸å…³æ•°æ®é‡Œé¢æ‹¿åˆ°è¯·æ±‚çš„URLï¼Œç„¶ååšä¸€ä¸ªåˆ¤æ–­ã€‚</p><p>â€‹<br>â€‹ from wsgiref.simple_server import make_server</p><p>â€‹<br>â€‹ def run_server(environ, start_response):
â€‹ start_response('200 OK', [('Content-Type', 'text/html;charset=utf8'), ]) # è®¾ç½®HTTPå“åº”çš„çŠ¶æ€ç å’Œå¤´ä¿¡æ¯
â€‹ url = environ['PATH_INFO'] # å–åˆ°ç”¨æˆ·è¾“å…¥çš„url
â€‹ if url == "/index/":
â€‹ return [bytes("<h1>è¿™æ˜¯indexé¡µé¢</h1>", encoding="utf8"), ]
â€‹ elif url == "/home/":
â€‹ return [bytes("<h1>è¿™æ˜¯homeé¡µé¢</h1>", encoding="utf8"), ]
â€‹ else:
â€‹ return [bytes("404æ²¡æœ‰è¯¥é¡µé¢", encoding="utf8"), ]</p><p>â€‹<br>â€‹ if <strong>name</strong> == '<strong>main</strong>':
â€‹ httpd = make_server('', 8000, run_server)
â€‹ print("Serving HTTP on port 8000...")
â€‹ httpd.serve_forever()</p><p>è§£å†³äº†ä¸åŒURLè¿”å›ä¸åŒå†…å®¹çš„éœ€æ±‚ã€‚ ä½†æ˜¯é—®é¢˜åˆæ¥äº†ï¼Œå¦‚æœæœ‰å¾ˆå¤šå¾ˆå¤šé¡µé¢æ€ä¹ˆåŠï¼Ÿéš¾é“è¦æŒ¨ä¸ªåˆ¤æ–­ï¼Ÿ å½“ç„¶ä¸ç”¨ï¼Œæˆ‘ä»¬æœ‰æ›´èªæ˜çš„åŠæ³•ã€‚</p><p>â€‹<br>â€‹ from wsgiref.simple_server import make_server</p><p>â€‹<br>â€‹ def index():
â€‹ return [bytes("<h1>è¿™æ˜¯indexé¡µé¢</h1>", encoding="utf8"), ]</p><p>â€‹<br>â€‹ def home():
â€‹ return [bytes("<h1>è¿™æ˜¯homeé¡µé¢</h1>", encoding="utf8"), ]</p><p>â€‹<br>â€‹ # å®šä¹‰ä¸€ä¸ªurlå’Œå‡½æ•°çš„å¯¹åº”å…³ç³»
â€‹ URL_LIST = [
â€‹ ("/index/", index),
â€‹ ("/home/", home),
â€‹ ]</p><p>â€‹<br>â€‹ def run_server(environ, start_response):
â€‹ start_response('200 OK', [('Content-Type', 'text/html;charset=utf8'), ]) # è®¾ç½®HTTPå“åº”çš„çŠ¶æ€ç å’Œå¤´ä¿¡æ¯
â€‹ url = environ['PATH_INFO'] # å–åˆ°ç”¨æˆ·è¾“å…¥çš„url
â€‹ func = None # å°†è¦æ‰§è¡Œçš„å‡½æ•°
â€‹ for i in URL_LIST:
â€‹ if i[0] == url:
â€‹ func = i[1] # å»ä¹‹å‰å®šä¹‰å¥½çš„urlåˆ—è¡¨é‡Œæ‰¾urlåº”è¯¥æ‰§è¡Œçš„å‡½æ•°
â€‹ break
â€‹ if func: # å¦‚æœèƒ½æ‰¾åˆ°è¦æ‰§è¡Œçš„å‡½æ•°
â€‹ return func() # è¿”å›å‡½æ•°çš„æ‰§è¡Œç»“æœ
â€‹ else:
â€‹ return [bytes("404æ²¡æœ‰è¯¥é¡µé¢", encoding="utf8"), ]</p><p>â€‹<br>â€‹ if <strong>name</strong> == '<strong>main</strong>':
â€‹ httpd = make_server('', 8000, run_server)
â€‹ print("Serving HTTP on port 8000...")
â€‹ httpd.serve_forever()</p><p>å®Œç¾è§£å†³äº†ä¸åŒURLè¿”å›ä¸åŒå†…å®¹çš„é—®é¢˜ã€‚ ä½†æ˜¯æˆ‘ä¸æƒ³ä»…ä»…è¿”å›å‡ ä¸ªå­—ç¬¦ä¸²ï¼Œæˆ‘æƒ³ç»™æµè§ˆå™¨è¿”å›å®Œæ•´çš„HTMLå†…å®¹ï¼Œè¿™åˆè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p><p>æ²¡é—®é¢˜ï¼Œä¸ç®¡æ˜¯ä»€ä¹ˆå†…å®¹ï¼Œæœ€åéƒ½æ˜¯è½¬æ¢æˆå­—èŠ‚æ•°æ®å‘é€å‡ºå»çš„ã€‚ æˆ‘å¯ä»¥æ‰“å¼€HTMLæ–‡ä»¶ï¼Œè¯»å–å‡ºå®ƒå†…éƒ¨çš„äºŒè¿›åˆ¶æ•°æ®ï¼Œç„¶åå‘é€ç»™æµè§ˆå™¨ã€‚</p><p>â€‹<br>â€‹ from wsgiref.simple_server import make_server</p><p>â€‹<br>â€‹ def index():
â€‹ with open("index.html", "rb") as f:
â€‹ data = f.read()
â€‹ return [data, ]</p><p>â€‹<br>â€‹ def home():
â€‹ with open("home.html", "rb") as f:
â€‹ data = f.read()
â€‹ return [data, ]</p><p>â€‹<br>â€‹ # å®šä¹‰ä¸€ä¸ªurlå’Œå‡½æ•°çš„å¯¹åº”å…³ç³»
â€‹ URL_LIST = [
â€‹ ("/index/", index),
â€‹ ("/home/", home),
â€‹ ]</p><p>â€‹<br>â€‹ def run_server(environ, start_response):
â€‹ start_response('200 OK', [('Content-Type', 'text/html;charset=utf8'), ]) # è®¾ç½®HTTPå“åº”çš„çŠ¶æ€ç å’Œå¤´ä¿¡æ¯
â€‹ url = environ['PATH_INFO'] # å–åˆ°ç”¨æˆ·è¾“å…¥çš„url
â€‹ func = None # å°†è¦æ‰§è¡Œçš„å‡½æ•°
â€‹ for i in URL_LIST:
â€‹ if i[0] == url:
â€‹ func = i[1] # å»ä¹‹å‰å®šä¹‰å¥½çš„urlåˆ—è¡¨é‡Œæ‰¾urlåº”è¯¥æ‰§è¡Œçš„å‡½æ•°
â€‹ break
â€‹ if func: # å¦‚æœèƒ½æ‰¾åˆ°è¦æ‰§è¡Œçš„å‡½æ•°
â€‹ return func() # è¿”å›å‡½æ•°çš„æ‰§è¡Œç»“æœ
â€‹ else:
â€‹ return [bytes("404æ²¡æœ‰è¯¥é¡µé¢", encoding="utf8"), ]</p><p>â€‹<br>â€‹ if <strong>name</strong> == '<strong>main</strong>':
â€‹ httpd = make_server('', 8000, run_server)
â€‹ print("Serving HTTP on port 8000...")
â€‹ httpd.serve_forever()</p><p>è¿™ç½‘é¡µèƒ½å¤Ÿæ˜¾ç¤ºå‡ºæ¥äº†ï¼Œä½†æ˜¯éƒ½æ˜¯é™æ€çš„å•Šã€‚é¡µé¢çš„å†…å®¹éƒ½ä¸ä¼šå˜åŒ–çš„ï¼Œæˆ‘æƒ³è¦çš„æ˜¯åŠ¨æ€ç½‘ç«™ã€‚</p><p>æ²¡é—®é¢˜ï¼Œæˆ‘ä¹Ÿæœ‰åŠæ³•è§£å†³ã€‚æˆ‘é€‰æ‹©ä½¿ç”¨å­—ç¬¦ä¸²æ›¿æ¢æ¥å®ç°è¿™ä¸ªéœ€æ±‚ã€‚</p><p>â€‹<br>â€‹ from wsgiref.simple_server import make_server</p><p>â€‹<br>â€‹ def index():
â€‹ with open("index.html", "rb") as f:
â€‹ data = f.read()
â€‹ import time
â€‹ time_str = str(time.time())
â€‹ data_str = str(data, encoding="utf8")
â€‹ data_str = data_str.replace("@@a@@", time_str)
â€‹ return [bytes(data_str, encoding="utf8"), ]</p><p>â€‹<br>â€‹ def home():
â€‹ with open("home.html", "rb") as f:
â€‹ data = f.read()
â€‹ return [data, ]</p><p>â€‹<br>â€‹ # å®šä¹‰ä¸€ä¸ªurlå’Œå‡½æ•°çš„å¯¹åº”å…³ç³»
â€‹ URL_LIST = [
â€‹ ("/index/", index),
â€‹ ("/home/", home),
â€‹ ]</p><p>â€‹<br>â€‹ def run_server(environ, start_response):
â€‹ start_response('200 OK', [('Content-Type', 'text/html;charset=utf8'), ]) # è®¾ç½®HTTPå“åº”çš„çŠ¶æ€ç å’Œå¤´ä¿¡æ¯
â€‹ url = environ['PATH_INFO'] # å–åˆ°ç”¨æˆ·è¾“å…¥çš„url
â€‹ func = None # å°†è¦æ‰§è¡Œçš„å‡½æ•°
â€‹ for i in URL_LIST:
â€‹ if i[0] == url:
â€‹ func = i[1] # å»ä¹‹å‰å®šä¹‰å¥½çš„urlåˆ—è¡¨é‡Œæ‰¾urlåº”è¯¥æ‰§è¡Œçš„å‡½æ•°
â€‹ break
â€‹ if func: # å¦‚æœèƒ½æ‰¾åˆ°è¦æ‰§è¡Œçš„å‡½æ•°
â€‹ return func() # è¿”å›å‡½æ•°çš„æ‰§è¡Œç»“æœ
â€‹ else:
â€‹ return [bytes("404æ²¡æœ‰è¯¥é¡µé¢", encoding="utf8"), ]</p><p>â€‹<br>â€‹ if <strong>name</strong> == '<strong>main</strong>':
â€‹ httpd = make_server('', 8000, run_server)
â€‹ print("Serving HTTP on port 8000...")
â€‹ httpd.serve_forever()</p><p>è¿™æ˜¯ä¸€ä¸ªç®€å•çš„åŠ¨æ€ï¼Œæˆ‘å®Œå…¨å¯ä»¥ä»æ•°æ®åº“ä¸­æŸ¥è¯¢æ•°æ®ï¼Œç„¶åå»æ›¿æ¢æˆ‘htmlä¸­çš„å¯¹åº”å†…å®¹ï¼Œç„¶åå†å‘é€ç»™æµè§ˆå™¨å®Œæˆæ¸²æŸ“ã€‚ è¿™ä¸ªè¿‡ç¨‹å°±ç›¸å½“äºHTMLæ¨¡æ¿æ¸²æŸ“æ•°æ®ã€‚
æœ¬è´¨ä¸Šå°±æ˜¯HTMLå†…å®¹ä¸­åˆ©ç”¨ä¸€äº›ç‰¹æ®Šçš„ç¬¦å·æ¥æ›¿æ¢è¦å±•ç¤ºçš„æ•°æ®ã€‚ æˆ‘è¿™é‡Œç”¨çš„ç‰¹æ®Šç¬¦å·æ˜¯æˆ‘å®šä¹‰çš„ï¼Œå…¶å®æ¨¡æ¿æ¸²æŸ“æœ‰ä¸ªç°æˆçš„å·¥å…·ï¼š <code>jinja2</code></p><p>ä¸‹è½½jinja2:</p><p>â€‹<br>â€‹ pip install jinja2</p><p><img src=https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif alt><img src=https://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif alt></p><p>â€‹<br>â€‹<!doctype html>
â€‹<html lang=zh-cn>â€‹<head>â€‹<meta charset=utf-8>â€‹<meta http-equiv=x-ua-compatible content="IE=edge">â€‹<meta name=viewport content="width=device-width,initial-scale=1">â€‹<title>Title</title>â€‹</head>â€‹<body>â€‹<h1>å§“åï¼š{{name}}</h1>â€‹<h1>çˆ±å¥½ï¼š</h1>â€‹<ul>â€‹ {% for hobby in hobby_list %}
â€‹<li>{{hobby}}</li>â€‹ {% endfor %}
â€‹</ul>â€‹</body>â€‹</html></p><p>index2.htmlæ–‡ä»¶</p><p>ä½¿ç”¨jinja2æ¸²æŸ“index2.htmlæ–‡ä»¶ï¼š</p><p>â€‹<br>â€‹ from wsgiref.simple_server import make_server
â€‹ from jinja2 import Template</p><p>â€‹<br>â€‹ def index():
â€‹ with open("index2.html", "r") as f:
â€‹ data = f.read()
â€‹ template = Template(data) # ç”Ÿæˆæ¨¡æ¿æ–‡ä»¶
â€‹ ret = template.render({"name": "Alex", "hobby_list": ["çƒ«å¤´", "æ³¡å§"]}) # æŠŠæ•°æ®å¡«å……åˆ°æ¨¡æ¿é‡Œé¢
â€‹ return [bytes(ret, encoding="utf8"), ]</p><p>â€‹<br>â€‹ def home():
â€‹ with open("home.html", "rb") as f:
â€‹ data = f.read()
â€‹ return [data, ]</p><p>â€‹<br>â€‹ # å®šä¹‰ä¸€ä¸ªurlå’Œå‡½æ•°çš„å¯¹åº”å…³ç³»
â€‹ URL_LIST = [
â€‹ ("/index/", index),
â€‹ ("/home/", home),
â€‹ ]</p><p>â€‹<br>â€‹ def run_server(environ, start_response):
â€‹ start_response('200 OK', [('Content-Type', 'text/html;charset=utf8'), ]) # è®¾ç½®HTTPå“åº”çš„çŠ¶æ€ç å’Œå¤´ä¿¡æ¯
â€‹ url = environ['PATH_INFO'] # å–åˆ°ç”¨æˆ·è¾“å…¥çš„url
â€‹ func = None # å°†è¦æ‰§è¡Œçš„å‡½æ•°
â€‹ for i in URL_LIST:
â€‹ if i[0] == url:
â€‹ func = i[1] # å»ä¹‹å‰å®šä¹‰å¥½çš„urlåˆ—è¡¨é‡Œæ‰¾urlåº”è¯¥æ‰§è¡Œçš„å‡½æ•°
â€‹ break
â€‹ if func: # å¦‚æœèƒ½æ‰¾åˆ°è¦æ‰§è¡Œçš„å‡½æ•°
â€‹ return func() # è¿”å›å‡½æ•°çš„æ‰§è¡Œç»“æœ
â€‹ else:
â€‹ return [bytes("404æ²¡æœ‰è¯¥é¡µé¢", encoding="utf8"), ]</p><p>â€‹<br>â€‹ if <strong>name</strong> == '<strong>main</strong>':
â€‹ httpd = make_server('', 8000, run_server)
â€‹ print("Serving HTTP on port 8000...")
â€‹ httpd.serve_forever()</p><p>ç°åœ¨çš„æ•°æ®æ˜¯æˆ‘ä»¬è‡ªå·±æ‰‹å†™çš„ï¼Œé‚£å¯ä¸å¯ä»¥ä»æ•°æ®åº“ä¸­æŸ¥è¯¢æ•°æ®ï¼Œæ¥å¡«å……é¡µé¢å‘¢ï¼Ÿ</p><p>ä½¿ç”¨pymysqlè¿æ¥æ•°æ®åº“ï¼š</p><p>â€‹<br>â€‹ conn = pymysql.connect(host="127.0.0.1", port=3306, user="root", passwd="xxx", db="xxx", charset="utf8")
â€‹ cursor = conn.cursor(cursor=pymysql.cursors.DictCursor)
â€‹ cursor.execute("select name, age, department_id from userinfo")
â€‹ user_list = cursor.fetchall()
â€‹ cursor.close()
â€‹ conn.close()</p><p>åˆ›å»ºä¸€ä¸ªæµ‹è¯•çš„userè¡¨ï¼š</p><p>â€‹<br>â€‹ CREATE TABLE user(
â€‹ id int auto_increment PRIMARY KEY,
â€‹ name CHAR(10) NOT NULL,
â€‹ hobby CHAR(20) NOT NULL
â€‹ )engine=innodb DEFAULT charset=UTF8;</p><p>æ¨¡æ¿çš„åŸç†å°±æ˜¯å­—ç¬¦ä¸²æ›¿æ¢ï¼Œæˆ‘ä»¬åªè¦åœ¨HTMLé¡µé¢ä¸­éµå¾ªjinja2çš„è¯­æ³•è§„åˆ™å†™ä¸Šï¼Œå…¶å†…éƒ¨å°±ä¼šæŒ‰ç…§æŒ‡å®šçš„è¯­æ³•è¿›è¡Œç›¸åº”çš„æ›¿æ¢ï¼Œä»è€Œè¾¾åˆ°åŠ¨æ€çš„è¿”å›å†…å®¹ã€‚</p><h2 id=django><a href=#django class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a>Django</h2><p><a href=https://www.djangoproject.com/download/ target=_blank rel=noopener>Djangoå®˜ç½‘ä¸‹è½½é¡µé¢</a></p><h3 id=å®‰è£…å®‰è£…æœ€æ–°ltsç‰ˆ><a href=#å®‰è£…å®‰è£…æœ€æ–°ltsç‰ˆ class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a>å®‰è£…ï¼ˆå®‰è£…æœ€æ–°LTSç‰ˆï¼‰ï¼š</h3><p>â€‹<br>â€‹ pip3 install django==1.11.9</p><h3 id=åˆ›å»ºä¸€ä¸ªdjangoé¡¹ç›®><a href=#åˆ›å»ºä¸€ä¸ªdjangoé¡¹ç›® class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a>åˆ›å»ºä¸€ä¸ªdjangoé¡¹ç›®ï¼š</h3><p>ä¸‹é¢çš„å‘½ä»¤åˆ›å»ºäº†ä¸€ä¸ªåä¸º"mysite"çš„Django é¡¹ç›®ï¼š</p><p>â€‹<br>â€‹ django-admin startproject mysite</p><h3 id=ç›®å½•ä»‹ç»><a href=#ç›®å½•ä»‹ç» class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a>ç›®å½•ä»‹ç»ï¼š</h3><p>â€‹<br>â€‹ mysite/
â€‹ â”œâ”€â”€ manage.py # ç®¡ç†æ–‡ä»¶
â€‹ â””â”€â”€ mysite # é¡¹ç›®ç›®å½•
â€‹ â”œâ”€â”€ <strong>init</strong>.py
â€‹ â”œâ”€â”€ settings.py # é…ç½®
â€‹ â”œâ”€â”€ urls.py # è·¯ç”± --> URLå’Œå‡½æ•°çš„å¯¹åº”å…³ç³»
â€‹ â””â”€â”€ wsgi.py # runserverå‘½ä»¤å°±ä½¿ç”¨wsgirefæ¨¡å—åšç®€å•çš„web server</p><h3 id=è¿è¡Œdjangoé¡¹ç›®><a href=#è¿è¡Œdjangoé¡¹ç›® class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a>è¿è¡ŒDjangoé¡¹ç›®ï¼š</h3><p>â€‹<br>â€‹ python manage.py runserver 127.0.0.1:8000</p><h3 id=æ¨¡æ¿æ–‡ä»¶é…ç½®><a href=#æ¨¡æ¿æ–‡ä»¶é…ç½® class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a>æ¨¡æ¿æ–‡ä»¶é…ç½®ï¼š</h3><p>â€‹<br>â€‹ TEMPLATES = [
â€‹ {
â€‹ 'BACKEND': 'django.template.backends.django.DjangoTemplates',
â€‹ 'DIRS': [os.path.join(BASE_DIR, "template")], # templateæ–‡ä»¶å¤¹ä½ç½®
â€‹ 'APP_DIRS': True,
â€‹ 'OPTIONS': {
â€‹ 'context_processors': [
â€‹ 'django.template.context_processors.debug',
â€‹ 'django.template.context_processors.request',
â€‹ 'django.contrib.auth.context_processors.auth',
â€‹ 'django.contrib.messages.context_processors.messages',
â€‹ ],
â€‹ },
â€‹ },
â€‹ ]</p><h3 id=é™æ€æ–‡ä»¶é…ç½®><a href=#é™æ€æ–‡ä»¶é…ç½® class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a>é™æ€æ–‡ä»¶é…ç½®ï¼š</h3><p>â€‹<br>â€‹ STATIC_URL = '/static/' # HTMLä¸­ä½¿ç”¨çš„é™æ€æ–‡ä»¶å¤¹å‰ç¼€
â€‹ STATICFILES_DIRS = [
â€‹ os.path.join(BASE_DIR, "static"), # é™æ€æ–‡ä»¶å­˜æ”¾ä½ç½®
â€‹ ]</p><p><strong>çœ‹ä¸æ˜ç™½ï¼Ÿæœ‰å›¾æœ‰çœŸç›¸ï¼š</strong></p><p><strong><img src=https://images2017.cnblogs.com/blog/867021/201801/867021-20180110190001816-1349372864.png alt></strong></p><p><strong>åˆšå¼€å§‹å­¦ä¹ æ—¶å¯åœ¨é…ç½®æ–‡ä»¶ä¸­æš‚æ—¶ç¦ç”¨csrfä¸­é—´ä»¶ï¼Œæ–¹ä¾¿è¡¨å•æäº¤æµ‹è¯•ã€‚</strong></p><p>â€‹<br>â€‹ MIDDLEWARE = [
â€‹ 'django.middleware.security.SecurityMiddleware',
â€‹ 'django.contrib.sessions.middleware.SessionMiddleware',
â€‹ 'django.middleware.common.CommonMiddleware',
â€‹ # 'django.middleware.csrf.CsrfViewMiddleware',
â€‹ 'django.contrib.auth.middleware.AuthenticationMiddleware',
â€‹ 'django.contrib.messages.middleware.MessageMiddleware',
â€‹ 'django.middleware.clickjacking.XFrameOptionsMiddleware',
â€‹ ]</p><h2 id=djangoåŸºç¡€å¿…å¤‡ä¸‰ä»¶å¥—><a href=#djangoåŸºç¡€å¿…å¤‡ä¸‰ä»¶å¥— class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a>DjangoåŸºç¡€å¿…å¤‡ä¸‰ä»¶å¥—ï¼š</h2><p>â€‹<br>â€‹ from django.shortcuts import HttpResponse, render, redirect</p><h3 id=httpresponse><a href=#httpresponse class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a>HttpResponse</h3><p>å†…éƒ¨ä¼ å…¥ä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°ï¼Œè¿”å›ç»™æµè§ˆå™¨ã€‚</p><p>ä¾‹å¦‚ï¼š</p><p>â€‹<br>â€‹ def index(request):
â€‹ # ä¸šåŠ¡é€»è¾‘ä»£ç 
â€‹ return HttpResponse("OK")</p><h3 id=render><a href=#render class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a>render</h3><p>é™¤requestå‚æ•°å¤–è¿˜æ¥å—ä¸€ä¸ªå¾…æ¸²æŸ“çš„æ¨¡æ¿æ–‡ä»¶å’Œä¸€ä¸ªä¿å­˜å…·ä½“æ•°æ®çš„å­—å…¸å‚æ•°ã€‚</p><p>å°†æ•°æ®å¡«å……è¿›æ¨¡æ¿æ–‡ä»¶ï¼Œæœ€åæŠŠç»“æœè¿”å›ç»™æµè§ˆå™¨ã€‚ï¼ˆç±»ä¼¼äºæˆ‘ä»¬ä¸Šé¢ç”¨åˆ°çš„jinja2ï¼‰</p><p>ä¾‹å¦‚ï¼š</p><p>â€‹<br>â€‹ def index(request):
â€‹ # ä¸šåŠ¡é€»è¾‘ä»£ç 
â€‹ return render(request, "index.html", {"name": "alex", "hobby": ["çƒ«å¤´", "æ³¡å§"]})</p><h3 id=redirect><a href=#redirect class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a>redirect</h3><p>æ¥å—ä¸€ä¸ªURLå‚æ•°ï¼Œè¡¨ç¤ºè·³è½¬åˆ°æŒ‡å®šçš„URLã€‚</p><p>ä¾‹å¦‚ï¼š</p><p>â€‹<br>â€‹ def index(request):
â€‹ # ä¸šåŠ¡é€»è¾‘ä»£ç 
â€‹ return redirect("/home/")</p><h2 id=è¯¾åç»ƒä¹ ><a href=#è¯¾åç»ƒä¹  class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a>è¯¾åç»ƒä¹ ï¼š</h2><p>Djangoç‰ˆç™»å½•</p><h2 id=å¯åŠ¨djangoæŠ¥é”™><a href=#å¯åŠ¨djangoæŠ¥é”™ class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a>å¯åŠ¨DjangoæŠ¥é”™ï¼š</h2><p>Django å¯åŠ¨æ—¶æŠ¥é”™ UnicodeEncodeError ...</p><p>æŠ¥è¿™ä¸ªé”™è¯¯é€šå¸¸æ˜¯å› ä¸ºè®¡ç®—æœºåä¸ºä¸­æ–‡ï¼Œæ”¹æˆè‹±æ–‡çš„è®¡ç®—æœºåé‡å¯ä¸‹ç”µè„‘å°±å¯ä»¥äº†ã€‚</p></div><ul class=post-copyright><li class="copyright-item author"><span class=copyright-item-text>ä½œè€…</span>ï¼š<a href=https://weii.xyz/ class="p-author h-card" target=_blank rel=noopener>weii</a></li><li class="copyright-item link"><span class=copyright-item-text>é“¾æ¥</span>ï¼š<a href=/2018/03/22/cnblog_8621513/ target=_blank rel=noopener>https://www.weii.xyz/2018/03/22/cnblog_8621513/</a></li><li class="copyright-item license"><span class=copyright-item-text>è®¸å¯</span>ï¼š<a href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh target=_blank rel=noopener>CC BY-NC-SA 4.0</a></li></ul></article><div class=updated-badge-container><span title="Updated @ 2019-11-20 14:11:45 CST" style=cursor:help><svg xmlns="http://www.w3.org/2000/svg" width="130" height="20" class="updated-badge"><linearGradient id="b" x2="0" y2="100%"><stop offset="0" stop-color="#bbb" stop-opacity=".1"/><stop offset="1" stop-opacity=".1"/></linearGradient><clipPath id="a"><rect width="130" height="20" rx="3" fill="#fff"/></clipPath><g clip-path="url(#a)"><path class="updated-badge-left" d="M0 0h55v20H0z"/><path class="updated-badge-right" d="M55 0h75v20H55z"/><path fill="url(#b)" d="M0 0h130v20H0z"/></g><g fill="#fff" text-anchor="middle" font-size="110"><text x="285" y="150" fill="#010101" fill-opacity=".3" textLength="450" transform="scale(.1)">updated</text><text x="285" y="140" textLength="450" transform="scale(.1)">updated</text><text x="915" y="150" fill="#010101" fill-opacity=".3" textLength="650" transform="scale(.1)">2019-11-20</text><text x="915" y="140" textLength="650" transform="scale(.1)">2019-11-20</text></g></svg></span></div><div class=related-posts><h2 class=related-title>ç›¸å…³æ–‡ç« ï¼š<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon related-icon"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6.0-12-5.4-12-12v-92h-92c-6.6.0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6.0 12 5.4 12 12v92h92c6.6.0 12 5.4 12 12v56z"/></svg></h2><ul class=related-list><li class=related-item><a href=/2018/03/21/cnblog_8616189/ class=related-link>Pythonè¿æ¥MySQLæ•°æ®åº“ä¹‹pymysqlæ¨¡å—ä½¿ç”¨</a></li><li class=related-item><a href=/2018/03/14/cnblog_8565323/ class=related-link>Markdown è¯­æ³•</a></li><li class=related-item><a href=/2018/03/14/cnblog_8565153/ class=related-link>jQuery</a></li><li class=related-item><a href=/2018/03/13/cnblog_8554604/ class=related-link>linux screen å¸¸ç”¨å‘½ä»¤</a></li><li class=related-item><a href=/2018/03/12/cnblog_8550048/ class=related-link>å‰ç«¯åŸºç¡€ä¹‹BOMå’ŒDOM</a></li></ul></div><div class=post-tags><a href=/tags/%E5%8D%9A%E5%AE%A2%E5%9B%AD/ rel=tag class=post-tags-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon tag-icon"><path d="M0 252.118V48C0 21.49 21.49.0 48 0h204.118a48 48 0 0133.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137.0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882.0L14.059 286.059A48 48 0 010 252.118zM112 64c-26.51.0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"/></svg>åšå®¢å›­</a>
<a href=/tags/%E6%90%AC%E5%AE%B6/ rel=tag class=post-tags-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon tag-icon"><path d="M0 252.118V48C0 21.49 21.49.0 48 0h204.118a48 48 0 0133.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137.0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882.0L14.059 286.059A48 48 0 010 252.118zM112 64c-26.51.0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"/></svg>æ¬å®¶</a>
<a href=/tags/cnblogs/ rel=tag class=post-tags-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon tag-icon"><path d="M0 252.118V48C0 21.49 21.49.0 48 0h204.118a48 48 0 0133.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137.0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882.0L14.059 286.059A48 48 0 010 252.118zM112 64c-26.51.0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"/></svg>cnblogs</a></div><ul class=post-nav><li class=post-nav-prev><a href=/2018/06/02/test/ rel=prev>&lt; test</a></li><li class=post-nav-next><a href=/2018/03/21/cnblog_8616189/ rel=next>Pythonè¿æ¥MySQLæ•°æ®åº“ä¹‹pymysqlæ¨¡å—ä½¿ç”¨ ></a></li></ul></div></main><div id=back-to-top class=back-to-top><a href=#><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="icon arrow-up"><path d="M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6.0-33.9L207 39c9.4-9.4 24.6-9.4 33.9.0l194.3 194.3c9.4 9.4 9.4 24.6.0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3.0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"/></svg></a></div><footer id=footer class=footer><div class=footer-inner><div class=site-info>Â©&nbsp;2014â€“2021&nbsp;<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon footer-icon"><path d="M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3.0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"/></svg>&nbsp;weii</div><div class=powered-by>Powered by <a href=https://github.com/gohugoio/hugo target=_blank rel=noopener>Hugo</a> | Theme is <a href=https://github.com/reuixiy/hugo-theme-meme target=_blank rel=noopener>MemE</a></div><div class=site-copyright><a href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh target=_blank rel=noopener>CC BY-NC-SA 4.0</a></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/medium-zoom@latest/dist/medium-zoom.min.js></script>
<script>mediumZoom(document.querySelectorAll('div.post-body img'),{background:'hsla(var(--color-bg-h), var(--color-bg-s), var(--color-bg-l), 0.95)'})</script><script src=https://cdn.jsdelivr.net/npm/instant.page@5.1.0/instantpage.min.js type=module defer></script></body></html>