<!DOCTYPE html>
<html lang="zh-cn" >
<head>
    
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    




<link href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" rel="stylesheet">





<link rel="stylesheet" type="text/css" href="https://at.alicdn.com/t/font_1354893_48p2lem7d2u.css">



<link rel="stylesheet" type="text/css" href="/css/weii.css">




    
    <meta name="theme-color" content="#333333">
    <meta name="msapplication-TileColor" content="#333333">
    
    
    
    
    <script>
        var _hmt = _hmt || [];
        (function () {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?cd78dad41ad2de68dddcbff91c704ce4";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>

    
    
    
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-146915278-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }

        gtag('js', new Date());

        gtag('config', 'UA-146915278-1');
    </script>
    
    
    <meta name="google-site-verification" content="LY-yWUgw7WEmNuBW7lLOj8jSiKZEVgOCmsisfGWtZCg">
    
    
    <meta name="msvalidate.01" content="1A54BC0D6A4D102B72F2A0E9870611FA"/>
    
    
    
    
    <meta name="keywords"
          content="weii, wevsmy, wilson, Python, Golang, PyQt5, hugo, gohugo"/>
    
    
    
    <meta name="description" content="è¿™æ˜¯ğŸ‘‰DjangoåŸºç¡€01ğŸ‘ˆçš„æ‘˜è¦">
    
    
    
    <link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png"/>
    
    
    <link rel="icon" type="image/png" sizes="192x192"
          href="/favicons/android-chrome-96x96.png">
    
    
    <link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png">
    
    
    <link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png">
    
    
    <link rel="mask-icon" href="/favicons/safari-pinned-tab.svg"
          color="#333333">
    
    
    <link rel="manifest" href="/favicons/site.webmanifest">
    
    
    <meta name="msapplication-config" content="/favicons/browserconfig.xml">
    
    
    <link rel="shortcut icon" type="image/x-icon" href="/favicons/favicon.ico">
    

    <title>DjangoåŸºç¡€01</title>

    
    



<script src="https://cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>





<script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




</head>

<body>

<header id="header" class="header" 
        style="background: #333333;" >
    <div class="container">
        <div class="header-container">
            <div class="header-title">
                <h1 class="title">
                    <a href="/">
                        wilson&#39;s blog
                    </a>
                </h1>
                <h2 class="subtitle">
                    Life is short, you need Python
                </h2>
            </div>
            
            <div class="logo">
                <img src="/images/logo.png" alt="logo">
            </div>
            
        </div>

        
        <div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">

                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title">Modal title</h4>
                    </div>
                    <div class="modal-body">
                        <p>One fine body&hellip;</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        <button type="button" class="btn btn-primary">Save changes</button>
                    </div>

                </div>
            </div>
        </div>

        
        <nav class="navbar navbar-inverse header-nav">
            <div class="container-fluid">
                
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                            data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    
                    <a class="navbar-brand" href="#" data-toggle="tooltip" data-placement="top"
                       title="( âŠ™ o âŠ™ )å•Šï¼">å¯¼èˆª</a>
                </div>
                
                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                    <ul class="nav navbar-nav">
                        
                        <li><a href="/">
                            
                            <i class="iconfont iconhome"></i>
                            
                            <span class="menu-text">é¦–é¡µ</span>
                        </a></li>
                        
                        <li><a href="/posts/">
                            
                            <i class="iconfont iconfolder-open"></i>
                            
                            <span class="menu-text">å½’æ¡£</span>
                        </a></li>
                        
                        <li><a href="/categories/">
                            
                            <i class="iconfont iconbook"></i>
                            
                            <span class="menu-text">åˆ†ç±»</span>
                        </a></li>
                        
                        <li><a href="/tags/">
                            
                            <i class="iconfont icontags"></i>
                            
                            <span class="menu-text">æ ‡ç­¾</span>
                        </a></li>
                        
                        <li><a href="/about/">
                            
                            <i class="iconfont iconsolution"></i>
                            
                            <span class="menu-text">å…³äº</span>
                        </a></li>
                        
                    </ul>
                    <div class="navbar-form navbar-right">
                        <div class="form-group">
                            <input type="search" id="search-input" name="q" results="0"
                                   placeholder="(à¸…Â´Ï‰`à¸…)" class="form-control"/>
                        </div>
                    </div>
                    <div class="search-result-box" id="search-result"></div>
                </div>
            </div>
        </nav>
    </div>
</header>

<main id="main" class="main">
    <div class="container">
        <div class="main-container">
            <div id="content" class="content">
                
                
                
                
<div class="panel panel-default post-panel">
    <div class="panel-heading post-head">
        <div class="post-title"><h2><a href='/2018/03/22/cnblog_8621513/'>DjangoåŸºç¡€01</a></h2></div>
        <div class="post-meta"><span>2018.03.22</span></div>
    </div>
    <div class="panel-body post-body">
        <div class="post-post" id="post-post">
            <h1 id="è¿™æ˜¯-djangoåŸºç¡€01-çš„æ‘˜è¦-2018-03-22-cnblog-8621513"><a href="/2018/03/22/cnblog_8621513/">è¿™æ˜¯ğŸ‘‰DjangoåŸºç¡€01ğŸ‘ˆçš„æ‘˜è¦</a></h1>

<h1 id="webæ¡†æ¶æœ¬è´¨">Webæ¡†æ¶æœ¬è´¨</h1>

<p>æˆ‘ä»¬å¯ä»¥è¿™æ ·ç†è§£ï¼šæ‰€æœ‰çš„Webåº”ç”¨æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªsocketæœåŠ¡ç«¯ï¼Œè€Œç”¨æˆ·çš„æµè§ˆå™¨å°±æ˜¯ä¸€ä¸ªsocketå®¢æˆ·ç«¯ã€‚ è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥è‡ªå·±å®ç°Webæ¡†æ¶äº†ã€‚</p>

<pre><code class="language-python">	import socket

    sk = socket.socket()
    sk.bind((&quot;127.0.0.1&quot;, 80))
    sk.listen(5)

	while True:
		conn, addr = sk.accept()
		data = conn.recv(8096)
		conn.send(b&quot;OK&quot;)
		conn.close()
</code></pre>

<p>å¯ä»¥è¯´WebæœåŠ¡æœ¬è´¨ä¸Šéƒ½æ˜¯åœ¨è¿™åå‡ è¡Œä»£ç åŸºç¡€ä¸Šæ‰©å±•å‡ºæ¥çš„ã€‚è¿™æ®µä»£ç å°±æ˜¯å®ƒä»¬çš„ç¥–å®—ã€‚</p>

<p>ç”¨æˆ·çš„æµè§ˆå™¨ä¸€è¾“å…¥ç½‘å€ï¼Œä¼šç»™æœåŠ¡ç«¯å‘é€æ•°æ®ï¼Œé‚£æµè§ˆå™¨ä¼šå‘é€ä»€ä¹ˆæ•°æ®ï¼Ÿæ€ä¹ˆå‘ï¼Ÿè¿™ä¸ªè°æ¥å®šï¼Ÿ ä½ è¿™ä¸ªç½‘ç«™æ˜¯è¿™ä¸ªè§„å®šï¼Œä»–é‚£ä¸ªç½‘ç«™æŒ‰ç…§ä»–é‚£ä¸ªè§„å®šï¼Œè¿™äº’è”ç½‘è¿˜èƒ½ç©ä¹ˆï¼Ÿ</p>

<p>æ‰€ä»¥ï¼Œå¿…é¡»æœ‰ä¸€ä¸ªç»Ÿä¸€çš„è§„åˆ™ï¼Œè®©å¤§å®¶å‘é€æ¶ˆæ¯ã€æ¥æ”¶æ¶ˆæ¯çš„æ—¶å€™æœ‰ä¸ªæ ¼å¼ä¾æ®ï¼Œä¸èƒ½éšä¾¿å†™ã€‚</p>

<p>è¿™ä¸ªè§„åˆ™å°±æ˜¯HTTPåè®®ï¼Œä»¥åæµè§ˆå™¨å‘é€è¯·æ±‚ä¿¡æ¯ä¹Ÿå¥½ï¼ŒæœåŠ¡å™¨å›å¤å“åº”ä¿¡æ¯ä¹Ÿç½¢ï¼Œéƒ½è¦æŒ‰ç…§è¿™ä¸ªè§„åˆ™æ¥ã€‚</p>

<p>HTTPåè®®ä¸»è¦è§„å®šäº†å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡æ ¼å¼ï¼Œé‚£HTTPåè®®æ˜¯æ€ä¹ˆè§„å®šæ¶ˆæ¯æ ¼å¼çš„å‘¢ï¼Ÿ</p>

<p>è®©æˆ‘ä»¬é¦–å…ˆçœ‹ä¸‹æˆ‘ä»¬åœ¨æœåŠ¡ç«¯æ¥æ”¶åˆ°çš„æ¶ˆæ¯æ˜¯ä»€ä¹ˆã€‚</p>

<p>ç„¶åå†çœ‹ä¸‹æˆ‘ä»¬æµè§ˆå™¨æ”¶åˆ°çš„å“åº”ä¿¡æ¯æ˜¯ä»€ä¹ˆã€‚</p>

<p>å“åº”å¤´åœ¨æµè§ˆå™¨çš„networkçª—å£å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬çœ‹åˆ°çš„HTMLé¡µé¢å†…å®¹å°±æ˜¯å“åº”ä½“ã€‚æœ¬è´¨ä¸Šè¿˜æ˜¯å­—ç¬¦ä¸²ï¼Œå› ä¸ºæµè§ˆå™¨è®¤è¯†HTMLï¼Œæ‰€ä»¥æ‰ä¼šæ¸²æŸ“å‡ºé¡µé¢ã€‚</p>

<p><a href="http://www.cnblogs.com/liwenzhou/articles/8620663.html">HTTPåè®®ä»‹ç»</a></p>

<p>æ¯ä¸ªHTTPè¯·æ±‚å’Œå“åº”éƒ½éµå¾ªç›¸åŒçš„æ ¼å¼ï¼Œä¸€ä¸ªHTTPåŒ…å«Headerå’ŒBodyä¸¤éƒ¨åˆ†ï¼Œå…¶ä¸­Bodyæ˜¯å¯é€‰çš„ã€‚ HTTPå“åº”çš„Headerä¸­æœ‰ä¸€ä¸ª
<code>Content-Type</code>è¡¨æ˜å“åº”çš„å†…å®¹æ ¼å¼ã€‚å¦‚ <code>text/html</code>è¡¨ç¤ºHTMLç½‘é¡µã€‚</p>

<p>HTTP GETè¯·æ±‚çš„æ ¼å¼ï¼š</p>

<p>â€‹<br />
â€‹    GET /path HTTP/1.1
â€‹    header1:v1\r\n
â€‹    header2:v2\r\n</p>

<p>ä½¿ç”¨ <code>\r\n</code>åˆ†éš”å¤šä¸ªheader</p>

<p>HTTP POSTè¯·æ±‚æ ¼å¼ï¼š</p>

<p>â€‹<br />
â€‹    POST /path HTTP/1.1
â€‹    header1:v1\r\n
â€‹    header2:v2\r\n
â€‹    \r\n\r\n
â€‹    è¯·æ±‚ä½“&hellip;</p>

<p>å½“é‡åˆ°è¿ç»­ä¸¤ä¸ª <code>\r\n\r\n</code>æ—¶ï¼Œè¡¨ç¤ºHeaderéƒ¨åˆ†ç»“æŸäº†ï¼Œåé¢çš„æ•°æ®æ˜¯Bodyã€‚</p>

<p>HTTPå“åº”çš„æ ¼å¼ï¼š</p>

<p>â€‹<br />
â€‹    200 OK
â€‹    Header1:v1\r\n
â€‹    Header2:v2\r\n
â€‹    \r\n\r\n
â€‹    å“åº”ä½“&hellip;</p>

<p>è®©æˆ‘ä»¬çš„Webæ¡†æ¶åœ¨ç»™å®¢æˆ·ç«¯å›å¤å“åº”çš„æ—¶å€™æŒ‰ç…§HTTPåè®®çš„è§„åˆ™åŠ ä¸Šå“åº”å¤´ï¼Œè¿™æ ·æˆ‘ä»¬å°±å®ç°äº†ä¸€ä¸ªæ­£ç»çš„Webæ¡†æ¶äº†ã€‚</p>

<pre><code class="language-python">	import socket

	sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
	sock.bind(('127.0.0.1', 8000))
	sock.listen(5)
	
	while True:
		conn, addr = sock.accept()
		data = conn.recv(8096)
		conn.send(b&quot;HTTP/1.1 200 OK\r\n\r\n&quot;)
		conn.send(b&quot;OK&quot;)
		conn.close()
</code></pre>

<p>ä¸Šè¿°é€šè¿‡socketæ¥å®ç°äº†å…¶æœ¬è´¨ã€‚</p>

<p>å¯¹äºçœŸå®å¼€å‘ä¸­çš„python webç¨‹åºæ¥è¯´ï¼Œä¸€èˆ¬ä¼šåˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šæœåŠ¡å™¨ç¨‹åºå’Œåº”ç”¨ç¨‹åºã€‚</p>

<p>æœåŠ¡å™¨ç¨‹åºè´Ÿè´£å¯¹socketæœåŠ¡å™¨è¿›è¡Œå°è£…ï¼Œå¹¶åœ¨è¯·æ±‚åˆ°æ¥æ—¶ï¼Œå¯¹è¯·æ±‚çš„å„ç§æ•°æ®è¿›è¡Œæ•´ç†ã€‚</p>

<p>åº”ç”¨ç¨‹åºåˆ™è´Ÿè´£å…·ä½“çš„é€»è¾‘å¤„ç†ã€‚ä¸ºäº†æ–¹ä¾¿åº”ç”¨ç¨‹åºçš„å¼€å‘ï¼Œå°±å‡ºç°äº†ä¼—å¤šçš„Webæ¡†æ¶ï¼Œä¾‹å¦‚ï¼šDjangoã€Flaskã€web.py
ç­‰ã€‚ä¸åŒçš„æ¡†æ¶æœ‰ä¸åŒçš„å¼€å‘æ–¹å¼ï¼Œä½†æ˜¯æ— è®ºå¦‚ä½•ï¼Œå¼€å‘å‡ºçš„åº”ç”¨ç¨‹åºéƒ½è¦å’ŒæœåŠ¡å™¨ç¨‹åºé…åˆï¼Œæ‰èƒ½ä¸ºç”¨æˆ·æä¾›æœåŠ¡ã€‚</p>

<p>è¿™æ ·ï¼ŒæœåŠ¡å™¨ç¨‹åºå°±éœ€è¦ä¸ºä¸åŒçš„æ¡†æ¶æä¾›ä¸åŒçš„æ”¯æŒã€‚è¿™æ ·æ··ä¹±çš„å±€é¢æ— è®ºå¯¹äºæœåŠ¡å™¨è¿˜æ˜¯æ¡†æ¶ï¼Œéƒ½æ˜¯ä¸å¥½çš„ã€‚å¯¹æœåŠ¡å™¨æ¥è¯´ï¼Œéœ€è¦æ”¯æŒå„ç§ä¸åŒæ¡†æ¶ï¼Œå¯¹æ¡†æ¶æ¥è¯´ï¼Œåªæœ‰æ”¯æŒå®ƒçš„æœåŠ¡å™¨æ‰èƒ½è¢«å¼€å‘å‡ºçš„åº”ç”¨ä½¿ç”¨ã€‚</p>

<p>è¿™æ—¶å€™ï¼Œæ ‡å‡†åŒ–å°±å˜å¾—å°¤ä¸ºé‡è¦ã€‚æˆ‘ä»¬å¯ä»¥è®¾ç«‹ä¸€ä¸ªæ ‡å‡†ï¼Œåªè¦æœåŠ¡å™¨ç¨‹åºæ”¯æŒè¿™ä¸ªæ ‡å‡†ï¼Œæ¡†æ¶ä¹Ÿæ”¯æŒè¿™ä¸ªæ ‡å‡†ï¼Œé‚£ä¹ˆä»–ä»¬å°±å¯ä»¥é…åˆä½¿ç”¨ã€‚ä¸€æ—¦æ ‡å‡†ç¡®å®šï¼ŒåŒæ–¹å„è‡ªå®ç°ã€‚è¿™æ ·ï¼ŒæœåŠ¡å™¨å¯ä»¥æ”¯æŒæ›´å¤šæ”¯æŒæ ‡å‡†çš„æ¡†æ¶ï¼Œæ¡†æ¶ä¹Ÿå¯ä»¥ä½¿ç”¨æ›´å¤šæ”¯æŒæ ‡å‡†çš„æœåŠ¡å™¨ã€‚</p>

<p>WSGIï¼ˆWeb Server Gateway
Interfaceï¼‰å°±æ˜¯ä¸€ç§è§„èŒƒï¼Œå®ƒå®šä¹‰äº†ä½¿ç”¨Pythonç¼–å†™çš„webåº”ç”¨ç¨‹åºä¸webæœåŠ¡å™¨ç¨‹åºä¹‹é—´çš„æ¥å£æ ¼å¼ï¼Œå®ç°webåº”ç”¨ç¨‹åºä¸webæœåŠ¡å™¨ç¨‹åºé—´çš„è§£è€¦ã€‚</p>

<p>å¸¸ç”¨çš„WSGIæœåŠ¡å™¨æœ‰uwsgiã€Gunicornã€‚è€ŒPythonæ ‡å‡†åº“æä¾›çš„ç‹¬ç«‹WSGIæœåŠ¡å™¨å«wsgirefï¼ŒDjangoå¼€å‘ç¯å¢ƒç”¨çš„å°±æ˜¯è¿™ä¸ªæ¨¡å—æ¥åšæœåŠ¡å™¨ã€‚</p>

<p>â€‹<br />
â€‹    from wsgiref.simple_server import make_server</p>

<p>â€‹<br />
â€‹    def run_server(environ, start_response):
â€‹        start_response(&lsquo;200 OK&rsquo;, [(&lsquo;Content-Type&rsquo;, &lsquo;text/html;charset=utf8&rsquo;)])  # è®¾ç½®HTTPå“åº”çš„çŠ¶æ€ç å’Œå¤´ä¿¡æ¯
â€‹        return [bytes(&rdquo;<h1>Hello world!</h1>&rdquo;, encoding=&ldquo;utf8&rdquo;),]</p>

<p>â€‹<br />
â€‹    if <strong>name</strong> == &lsquo;<strong>main</strong>&lsquo;:
â€‹        httpd = make_server(&ldquo;, 8000, run_server)
â€‹        print(&ldquo;Serving HTTP on port 8000&hellip;&rdquo;)
â€‹        httpd.serve_forever()</p>

<p>è¿™æ ·å°±ç»“æŸäº†å—ï¼Ÿ å¦‚ä½•è®©æˆ‘ä»¬çš„WebæœåŠ¡æ ¹æ®ç”¨æˆ·è¯·æ±‚çš„URLä¸åŒè€Œè¿”å›ä¸åŒçš„å†…å®¹å‘¢ï¼Ÿ</p>

<p>å°äº‹ä¸€æ¡©ï¼Œæˆ‘ä»¬å¯ä»¥ä»è¯·æ±‚ç›¸å…³æ•°æ®é‡Œé¢æ‹¿åˆ°è¯·æ±‚çš„URLï¼Œç„¶ååšä¸€ä¸ªåˆ¤æ–­ã€‚</p>

<p>â€‹<br />
â€‹    from wsgiref.simple_server import make_server</p>

<p>â€‹<br />
â€‹    def run_server(environ, start_response):
â€‹        start_response(&lsquo;200 OK&rsquo;, [(&lsquo;Content-Type&rsquo;, &lsquo;text/html;charset=utf8&rsquo;), ])  # è®¾ç½®HTTPå“åº”çš„çŠ¶æ€ç å’Œå¤´ä¿¡æ¯
â€‹        url = environ[&lsquo;PATH_INFO&rsquo;]  # å–åˆ°ç”¨æˆ·è¾“å…¥çš„url
â€‹        if url == &ldquo;/index/&rdquo;:
â€‹            return [bytes(&rdquo;<h1>è¿™æ˜¯indexé¡µé¢</h1>&rdquo;, encoding=&ldquo;utf8&rdquo;), ]
â€‹        elif url == &ldquo;/home/&rdquo;:
â€‹            return [bytes(&rdquo;<h1>è¿™æ˜¯homeé¡µé¢</h1>&rdquo;, encoding=&ldquo;utf8&rdquo;), ]
â€‹        else:
â€‹            return [bytes(&ldquo;404æ²¡æœ‰è¯¥é¡µé¢&rdquo;, encoding=&ldquo;utf8&rdquo;), ]</p>

<p>â€‹<br />
â€‹    if <strong>name</strong> == &lsquo;<strong>main</strong>&lsquo;:
â€‹        httpd = make_server(&ldquo;, 8000, run_server)
â€‹        print(&ldquo;Serving HTTP on port 8000&hellip;&rdquo;)
â€‹        httpd.serve_forever()</p>

<p>è§£å†³äº†ä¸åŒURLè¿”å›ä¸åŒå†…å®¹çš„éœ€æ±‚ã€‚ ä½†æ˜¯é—®é¢˜åˆæ¥äº†ï¼Œå¦‚æœæœ‰å¾ˆå¤šå¾ˆå¤šé¡µé¢æ€ä¹ˆåŠï¼Ÿéš¾é“è¦æŒ¨ä¸ªåˆ¤æ–­ï¼Ÿ å½“ç„¶ä¸ç”¨ï¼Œæˆ‘ä»¬æœ‰æ›´èªæ˜çš„åŠæ³•ã€‚</p>

<p>â€‹<br />
â€‹    from wsgiref.simple_server import make_server</p>

<p>â€‹<br />
â€‹    def index():
â€‹        return [bytes(&rdquo;<h1>è¿™æ˜¯indexé¡µé¢</h1>&rdquo;, encoding=&ldquo;utf8&rdquo;), ]</p>

<p>â€‹<br />
â€‹    def home():
â€‹        return [bytes(&rdquo;<h1>è¿™æ˜¯homeé¡µé¢</h1>&rdquo;, encoding=&ldquo;utf8&rdquo;), ]</p>

<p>â€‹<br />
â€‹    # å®šä¹‰ä¸€ä¸ªurlå’Œå‡½æ•°çš„å¯¹åº”å…³ç³»
â€‹    URL_LIST = [
â€‹        (&ldquo;/index/&rdquo;, index),
â€‹        (&ldquo;/home/&rdquo;, home),
â€‹    ]</p>

<p>â€‹<br />
â€‹    def run_server(environ, start_response):
â€‹        start_response(&lsquo;200 OK&rsquo;, [(&lsquo;Content-Type&rsquo;, &lsquo;text/html;charset=utf8&rsquo;), ])  # è®¾ç½®HTTPå“åº”çš„çŠ¶æ€ç å’Œå¤´ä¿¡æ¯
â€‹        url = environ[&lsquo;PATH_INFO&rsquo;]  # å–åˆ°ç”¨æˆ·è¾“å…¥çš„url
â€‹        func = None  # å°†è¦æ‰§è¡Œçš„å‡½æ•°
â€‹        for i in URL_LIST:
â€‹            if i[0] == url:
â€‹                func = i[1]  # å»ä¹‹å‰å®šä¹‰å¥½çš„urlåˆ—è¡¨é‡Œæ‰¾urlåº”è¯¥æ‰§è¡Œçš„å‡½æ•°
â€‹                break
â€‹        if func:  # å¦‚æœèƒ½æ‰¾åˆ°è¦æ‰§è¡Œçš„å‡½æ•°
â€‹            return func()  # è¿”å›å‡½æ•°çš„æ‰§è¡Œç»“æœ
â€‹        else:
â€‹            return [bytes(&ldquo;404æ²¡æœ‰è¯¥é¡µé¢&rdquo;, encoding=&ldquo;utf8&rdquo;), ]</p>

<p>â€‹<br />
â€‹    if <strong>name</strong> == &lsquo;<strong>main</strong>&lsquo;:
â€‹        httpd = make_server(&ldquo;, 8000, run_server)
â€‹        print(&ldquo;Serving HTTP on port 8000&hellip;&rdquo;)
â€‹        httpd.serve_forever()</p>

<p>å®Œç¾è§£å†³äº†ä¸åŒURLè¿”å›ä¸åŒå†…å®¹çš„é—®é¢˜ã€‚ ä½†æ˜¯æˆ‘ä¸æƒ³ä»…ä»…è¿”å›å‡ ä¸ªå­—ç¬¦ä¸²ï¼Œæˆ‘æƒ³ç»™æµè§ˆå™¨è¿”å›å®Œæ•´çš„HTMLå†…å®¹ï¼Œè¿™åˆè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p>

<p>æ²¡é—®é¢˜ï¼Œä¸ç®¡æ˜¯ä»€ä¹ˆå†…å®¹ï¼Œæœ€åéƒ½æ˜¯è½¬æ¢æˆå­—èŠ‚æ•°æ®å‘é€å‡ºå»çš„ã€‚ æˆ‘å¯ä»¥æ‰“å¼€HTMLæ–‡ä»¶ï¼Œè¯»å–å‡ºå®ƒå†…éƒ¨çš„äºŒè¿›åˆ¶æ•°æ®ï¼Œç„¶åå‘é€ç»™æµè§ˆå™¨ã€‚</p>

<p>â€‹<br />
â€‹    from wsgiref.simple_server import make_server</p>

<p>â€‹<br />
â€‹    def index():
â€‹        with open(&ldquo;index.html&rdquo;, &ldquo;rb&rdquo;) as f:
â€‹            data = f.read()
â€‹        return [data, ]</p>

<p>â€‹<br />
â€‹    def home():
â€‹        with open(&ldquo;home.html&rdquo;, &ldquo;rb&rdquo;) as f:
â€‹            data = f.read()
â€‹        return [data, ]</p>

<p>â€‹<br />
â€‹    # å®šä¹‰ä¸€ä¸ªurlå’Œå‡½æ•°çš„å¯¹åº”å…³ç³»
â€‹    URL_LIST = [
â€‹        (&ldquo;/index/&rdquo;, index),
â€‹        (&ldquo;/home/&rdquo;, home),
â€‹    ]</p>

<p>â€‹<br />
â€‹    def run_server(environ, start_response):
â€‹        start_response(&lsquo;200 OK&rsquo;, [(&lsquo;Content-Type&rsquo;, &lsquo;text/html;charset=utf8&rsquo;), ])  # è®¾ç½®HTTPå“åº”çš„çŠ¶æ€ç å’Œå¤´ä¿¡æ¯
â€‹        url = environ[&lsquo;PATH_INFO&rsquo;]  # å–åˆ°ç”¨æˆ·è¾“å…¥çš„url
â€‹        func = None  # å°†è¦æ‰§è¡Œçš„å‡½æ•°
â€‹        for i in URL_LIST:
â€‹            if i[0] == url:
â€‹                func = i[1]  # å»ä¹‹å‰å®šä¹‰å¥½çš„urlåˆ—è¡¨é‡Œæ‰¾urlåº”è¯¥æ‰§è¡Œçš„å‡½æ•°
â€‹                break
â€‹        if func:  # å¦‚æœèƒ½æ‰¾åˆ°è¦æ‰§è¡Œçš„å‡½æ•°
â€‹            return func()  # è¿”å›å‡½æ•°çš„æ‰§è¡Œç»“æœ
â€‹        else:
â€‹            return [bytes(&ldquo;404æ²¡æœ‰è¯¥é¡µé¢&rdquo;, encoding=&ldquo;utf8&rdquo;), ]</p>

<p>â€‹<br />
â€‹    if <strong>name</strong> == &lsquo;<strong>main</strong>&lsquo;:
â€‹        httpd = make_server(&ldquo;, 8000, run_server)
â€‹        print(&ldquo;Serving HTTP on port 8000&hellip;&rdquo;)
â€‹        httpd.serve_forever()</p>

<p>è¿™ç½‘é¡µèƒ½å¤Ÿæ˜¾ç¤ºå‡ºæ¥äº†ï¼Œä½†æ˜¯éƒ½æ˜¯é™æ€çš„å•Šã€‚é¡µé¢çš„å†…å®¹éƒ½ä¸ä¼šå˜åŒ–çš„ï¼Œæˆ‘æƒ³è¦çš„æ˜¯åŠ¨æ€ç½‘ç«™ã€‚</p>

<p>æ²¡é—®é¢˜ï¼Œæˆ‘ä¹Ÿæœ‰åŠæ³•è§£å†³ã€‚æˆ‘é€‰æ‹©ä½¿ç”¨å­—ç¬¦ä¸²æ›¿æ¢æ¥å®ç°è¿™ä¸ªéœ€æ±‚ã€‚</p>

<p>â€‹<br />
â€‹    from wsgiref.simple_server import make_server</p>

<p>â€‹<br />
â€‹    def index():
â€‹        with open(&ldquo;index.html&rdquo;, &ldquo;rb&rdquo;) as f:
â€‹            data = f.read()
â€‹        import time
â€‹        time_str = str(time.time())
â€‹        data_str = str(data, encoding=&ldquo;utf8&rdquo;)
â€‹        data_str = data_str.replace(&ldquo;@@a@@&rdquo;, time_str)
â€‹        return [bytes(data_str, encoding=&ldquo;utf8&rdquo;), ]</p>

<p>â€‹<br />
â€‹    def home():
â€‹        with open(&ldquo;home.html&rdquo;, &ldquo;rb&rdquo;) as f:
â€‹            data = f.read()
â€‹        return [data, ]</p>

<p>â€‹<br />
â€‹    # å®šä¹‰ä¸€ä¸ªurlå’Œå‡½æ•°çš„å¯¹åº”å…³ç³»
â€‹    URL_LIST = [
â€‹        (&ldquo;/index/&rdquo;, index),
â€‹        (&ldquo;/home/&rdquo;, home),
â€‹    ]</p>

<p>â€‹<br />
â€‹    def run_server(environ, start_response):
â€‹        start_response(&lsquo;200 OK&rsquo;, [(&lsquo;Content-Type&rsquo;, &lsquo;text/html;charset=utf8&rsquo;), ])  # è®¾ç½®HTTPå“åº”çš„çŠ¶æ€ç å’Œå¤´ä¿¡æ¯
â€‹        url = environ[&lsquo;PATH_INFO&rsquo;]  # å–åˆ°ç”¨æˆ·è¾“å…¥çš„url
â€‹        func = None  # å°†è¦æ‰§è¡Œçš„å‡½æ•°
â€‹        for i in URL_LIST:
â€‹            if i[0] == url:
â€‹                func = i[1]  # å»ä¹‹å‰å®šä¹‰å¥½çš„urlåˆ—è¡¨é‡Œæ‰¾urlåº”è¯¥æ‰§è¡Œçš„å‡½æ•°
â€‹                break
â€‹        if func:  # å¦‚æœèƒ½æ‰¾åˆ°è¦æ‰§è¡Œçš„å‡½æ•°
â€‹            return func()  # è¿”å›å‡½æ•°çš„æ‰§è¡Œç»“æœ
â€‹        else:
â€‹            return [bytes(&ldquo;404æ²¡æœ‰è¯¥é¡µé¢&rdquo;, encoding=&ldquo;utf8&rdquo;), ]</p>

<p>â€‹<br />
â€‹    if <strong>name</strong> == &lsquo;<strong>main</strong>&lsquo;:
â€‹        httpd = make_server(&ldquo;, 8000, run_server)
â€‹        print(&ldquo;Serving HTTP on port 8000&hellip;&rdquo;)
â€‹        httpd.serve_forever()</p>

<p>è¿™æ˜¯ä¸€ä¸ªç®€å•çš„åŠ¨æ€ï¼Œæˆ‘å®Œå…¨å¯ä»¥ä»æ•°æ®åº“ä¸­æŸ¥è¯¢æ•°æ®ï¼Œç„¶åå»æ›¿æ¢æˆ‘htmlä¸­çš„å¯¹åº”å†…å®¹ï¼Œç„¶åå†å‘é€ç»™æµè§ˆå™¨å®Œæˆæ¸²æŸ“ã€‚ è¿™ä¸ªè¿‡ç¨‹å°±ç›¸å½“äºHTMLæ¨¡æ¿æ¸²æŸ“æ•°æ®ã€‚
æœ¬è´¨ä¸Šå°±æ˜¯HTMLå†…å®¹ä¸­åˆ©ç”¨ä¸€äº›ç‰¹æ®Šçš„ç¬¦å·æ¥æ›¿æ¢è¦å±•ç¤ºçš„æ•°æ®ã€‚ æˆ‘è¿™é‡Œç”¨çš„ç‰¹æ®Šç¬¦å·æ˜¯æˆ‘å®šä¹‰çš„ï¼Œå…¶å®æ¨¡æ¿æ¸²æŸ“æœ‰ä¸ªç°æˆçš„å·¥å…·ï¼š <code>jinja2</code></p>

<p>ä¸‹è½½jinja2:</p>

<p>â€‹<br />
â€‹    pip install jinja2</p>

<p><img src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="" /><img src="https://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" alt="" /></p>

<p>â€‹<br />
â€‹    &lt;!DOCTYPE html&gt;
â€‹    <html lang="zh-CN">
â€‹    <head>
â€‹      <meta charset="UTF-8">
â€‹      <meta http-equiv="x-ua-compatible" content="IE=edge">
â€‹      <meta name="viewport" content="width=device-width, initial-scale=1">
â€‹      <title>Title</title>
â€‹    </head>
â€‹    <body>
â€‹        <h1>å§“åï¼š{{name}}</h1>
â€‹        <h1>çˆ±å¥½ï¼š</h1>
â€‹        <ul>
â€‹            {% for hobby in hobby_list %}
â€‹            <li>{{hobby}}</li>
â€‹            {% endfor %}
â€‹        </ul>
â€‹    </body>
â€‹    </html></p>

<p>index2.htmlæ–‡ä»¶</p>

<p>ä½¿ç”¨jinja2æ¸²æŸ“index2.htmlæ–‡ä»¶ï¼š</p>

<p>â€‹<br />
â€‹    from wsgiref.simple_server import make_server
â€‹    from jinja2 import Template</p>

<p>â€‹<br />
â€‹    def index():
â€‹        with open(&ldquo;index2.html&rdquo;, &ldquo;r&rdquo;) as f:
â€‹            data = f.read()
â€‹        template = Template(data)  # ç”Ÿæˆæ¨¡æ¿æ–‡ä»¶
â€‹        ret = template.render({&ldquo;name&rdquo;: &ldquo;Alex&rdquo;, &ldquo;hobby_list&rdquo;: [&ldquo;çƒ«å¤´&rdquo;, &ldquo;æ³¡å§&rdquo;]})  # æŠŠæ•°æ®å¡«å……åˆ°æ¨¡æ¿é‡Œé¢
â€‹        return [bytes(ret, encoding=&ldquo;utf8&rdquo;), ]</p>

<p>â€‹<br />
â€‹    def home():
â€‹        with open(&ldquo;home.html&rdquo;, &ldquo;rb&rdquo;) as f:
â€‹            data = f.read()
â€‹        return [data, ]</p>

<p>â€‹<br />
â€‹    # å®šä¹‰ä¸€ä¸ªurlå’Œå‡½æ•°çš„å¯¹åº”å…³ç³»
â€‹    URL_LIST = [
â€‹        (&ldquo;/index/&rdquo;, index),
â€‹        (&ldquo;/home/&rdquo;, home),
â€‹    ]</p>

<p>â€‹<br />
â€‹    def run_server(environ, start_response):
â€‹        start_response(&lsquo;200 OK&rsquo;, [(&lsquo;Content-Type&rsquo;, &lsquo;text/html;charset=utf8&rsquo;), ])  # è®¾ç½®HTTPå“åº”çš„çŠ¶æ€ç å’Œå¤´ä¿¡æ¯
â€‹        url = environ[&lsquo;PATH_INFO&rsquo;]  # å–åˆ°ç”¨æˆ·è¾“å…¥çš„url
â€‹        func = None  # å°†è¦æ‰§è¡Œçš„å‡½æ•°
â€‹        for i in URL_LIST:
â€‹            if i[0] == url:
â€‹                func = i[1]  # å»ä¹‹å‰å®šä¹‰å¥½çš„urlåˆ—è¡¨é‡Œæ‰¾urlåº”è¯¥æ‰§è¡Œçš„å‡½æ•°
â€‹                break
â€‹        if func:  # å¦‚æœèƒ½æ‰¾åˆ°è¦æ‰§è¡Œçš„å‡½æ•°
â€‹            return func()  # è¿”å›å‡½æ•°çš„æ‰§è¡Œç»“æœ
â€‹        else:
â€‹            return [bytes(&ldquo;404æ²¡æœ‰è¯¥é¡µé¢&rdquo;, encoding=&ldquo;utf8&rdquo;), ]</p>

<p>â€‹<br />
â€‹    if <strong>name</strong> == &lsquo;<strong>main</strong>&lsquo;:
â€‹        httpd = make_server(&ldquo;, 8000, run_server)
â€‹        print(&ldquo;Serving HTTP on port 8000&hellip;&rdquo;)
â€‹        httpd.serve_forever()</p>

<p>ç°åœ¨çš„æ•°æ®æ˜¯æˆ‘ä»¬è‡ªå·±æ‰‹å†™çš„ï¼Œé‚£å¯ä¸å¯ä»¥ä»æ•°æ®åº“ä¸­æŸ¥è¯¢æ•°æ®ï¼Œæ¥å¡«å……é¡µé¢å‘¢ï¼Ÿ</p>

<p>ä½¿ç”¨pymysqlè¿æ¥æ•°æ®åº“ï¼š</p>

<p>â€‹<br />
â€‹    conn = pymysql.connect(host=&ldquo;127.0.0.1&rdquo;, port=3306, user=&ldquo;root&rdquo;, passwd=&ldquo;xxx&rdquo;, db=&ldquo;xxx&rdquo;, charset=&ldquo;utf8&rdquo;)
â€‹    cursor = conn.cursor(cursor=pymysql.cursors.DictCursor)
â€‹    cursor.execute(&ldquo;select name, age, department_id from userinfo&rdquo;)
â€‹    user_list = cursor.fetchall()
â€‹    cursor.close()
â€‹    conn.close()</p>

<p>åˆ›å»ºä¸€ä¸ªæµ‹è¯•çš„userè¡¨ï¼š</p>

<p>â€‹<br />
â€‹    CREATE TABLE user(
â€‹      id int auto_increment PRIMARY KEY,
â€‹      name CHAR(10) NOT NULL,
â€‹      hobby CHAR(20) NOT NULL
â€‹    )engine=innodb DEFAULT charset=UTF8;</p>

<p>æ¨¡æ¿çš„åŸç†å°±æ˜¯å­—ç¬¦ä¸²æ›¿æ¢ï¼Œæˆ‘ä»¬åªè¦åœ¨HTMLé¡µé¢ä¸­éµå¾ªjinja2çš„è¯­æ³•è§„åˆ™å†™ä¸Šï¼Œå…¶å†…éƒ¨å°±ä¼šæŒ‰ç…§æŒ‡å®šçš„è¯­æ³•è¿›è¡Œç›¸åº”çš„æ›¿æ¢ï¼Œä»è€Œè¾¾åˆ°åŠ¨æ€çš„è¿”å›å†…å®¹ã€‚</p>

<h2 id="django">Django</h2>

<p><a href="https://www.djangoproject.com/download/">Djangoå®˜ç½‘ä¸‹è½½é¡µé¢</a></p>

<h3 id="å®‰è£…-å®‰è£…æœ€æ–°ltsç‰ˆ">å®‰è£…ï¼ˆå®‰è£…æœ€æ–°LTSç‰ˆï¼‰ï¼š</h3>

<p>â€‹<br />
â€‹    pip3 install django==1.11.9</p>

<h3 id="åˆ›å»ºä¸€ä¸ªdjangoé¡¹ç›®">åˆ›å»ºä¸€ä¸ªdjangoé¡¹ç›®ï¼š</h3>

<p>ä¸‹é¢çš„å‘½ä»¤åˆ›å»ºäº†ä¸€ä¸ªåä¸º&rdquo;mysite&rdquo;çš„Django é¡¹ç›®ï¼š</p>

<p>â€‹<br />
â€‹    django-admin startproject mysite</p>

<h3 id="ç›®å½•ä»‹ç»">ç›®å½•ä»‹ç»ï¼š</h3>

<p>â€‹<br />
â€‹    mysite/
â€‹    â”œâ”€â”€ manage.py  # ç®¡ç†æ–‡ä»¶
â€‹    â””â”€â”€ mysite  # é¡¹ç›®ç›®å½•
â€‹        â”œâ”€â”€ <strong>init</strong>.py
â€‹        â”œâ”€â”€ settings.py  # é…ç½®
â€‹        â”œâ”€â”€ urls.py  # è·¯ç”± &ndash;&gt; URLå’Œå‡½æ•°çš„å¯¹åº”å…³ç³»
â€‹        â””â”€â”€ wsgi.py  # runserverå‘½ä»¤å°±ä½¿ç”¨wsgirefæ¨¡å—åšç®€å•çš„web server</p>

<h3 id="è¿è¡Œdjangoé¡¹ç›®">è¿è¡ŒDjangoé¡¹ç›®ï¼š</h3>

<p>â€‹<br />
â€‹    python manage.py runserver 127.0.0.1:8000</p>

<h3 id="æ¨¡æ¿æ–‡ä»¶é…ç½®">æ¨¡æ¿æ–‡ä»¶é…ç½®ï¼š</h3>

<p>â€‹<br />
â€‹    TEMPLATES = [
â€‹        {
â€‹            &lsquo;BACKEND&rsquo;: &lsquo;django.template.backends.django.DjangoTemplates&rsquo;,
â€‹            &lsquo;DIRS&rsquo;: [os.path.join(BASE_DIR, &ldquo;template&rdquo;)],  # templateæ–‡ä»¶å¤¹ä½ç½®
â€‹            &lsquo;APP_DIRS&rsquo;: True,
â€‹            &lsquo;OPTIONS&rsquo;: {
â€‹                &lsquo;context_processors&rsquo;: [
â€‹                    &lsquo;django.template.context_processors.debug&rsquo;,
â€‹                    &lsquo;django.template.context_processors.request&rsquo;,
â€‹                    &lsquo;django.contrib.auth.context_processors.auth&rsquo;,
â€‹                    &lsquo;django.contrib.messages.context_processors.messages&rsquo;,
â€‹                ],
â€‹            },
â€‹        },
â€‹    ]</p>

<h3 id="é™æ€æ–‡ä»¶é…ç½®">é™æ€æ–‡ä»¶é…ç½®ï¼š</h3>

<p>â€‹<br />
â€‹    STATIC_URL = &lsquo;/static/&rsquo;  # HTMLä¸­ä½¿ç”¨çš„é™æ€æ–‡ä»¶å¤¹å‰ç¼€
â€‹    STATICFILES_DIRS = [
â€‹        os.path.join(BASE_DIR, &ldquo;static&rdquo;),  # é™æ€æ–‡ä»¶å­˜æ”¾ä½ç½®
â€‹    ]</p>

<p><strong>çœ‹ä¸æ˜ç™½ï¼Ÿæœ‰å›¾æœ‰çœŸç›¸ï¼š</strong></p>

<p><strong><img src="https://images2017.cnblogs.com/blog/867021/201801/867021-20180110190001816-1349372864.png" alt="" /></strong></p>

<p><strong>åˆšå¼€å§‹å­¦ä¹ æ—¶å¯åœ¨é…ç½®æ–‡ä»¶ä¸­æš‚æ—¶ç¦ç”¨csrfä¸­é—´ä»¶ï¼Œæ–¹ä¾¿è¡¨å•æäº¤æµ‹è¯•ã€‚</strong></p>

<p>â€‹<br />
â€‹    MIDDLEWARE = [
â€‹         &lsquo;django.middleware.security.SecurityMiddleware&rsquo;,
â€‹        &lsquo;django.contrib.sessions.middleware.SessionMiddleware&rsquo;,
â€‹        &lsquo;django.middleware.common.CommonMiddleware&rsquo;,
â€‹        # &lsquo;django.middleware.csrf.CsrfViewMiddleware&rsquo;,
â€‹        &lsquo;django.contrib.auth.middleware.AuthenticationMiddleware&rsquo;,
â€‹        &lsquo;django.contrib.messages.middleware.MessageMiddleware&rsquo;,
â€‹        &lsquo;django.middleware.clickjacking.XFrameOptionsMiddleware&rsquo;,
â€‹    ]</p>

<h2 id="djangoåŸºç¡€å¿…å¤‡ä¸‰ä»¶å¥—">DjangoåŸºç¡€å¿…å¤‡ä¸‰ä»¶å¥—ï¼š</h2>

<p>â€‹<br />
â€‹    from django.shortcuts import HttpResponse, render, redirect</p>

<h3 id="httpresponse">HttpResponse</h3>

<p>å†…éƒ¨ä¼ å…¥ä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°ï¼Œè¿”å›ç»™æµè§ˆå™¨ã€‚</p>

<p>ä¾‹å¦‚ï¼š</p>

<p>â€‹<br />
â€‹    def index(request):
â€‹        # ä¸šåŠ¡é€»è¾‘ä»£ç 
â€‹        return HttpResponse(&ldquo;OK&rdquo;)</p>

<h3 id="render">render</h3>

<p>é™¤requestå‚æ•°å¤–è¿˜æ¥å—ä¸€ä¸ªå¾…æ¸²æŸ“çš„æ¨¡æ¿æ–‡ä»¶å’Œä¸€ä¸ªä¿å­˜å…·ä½“æ•°æ®çš„å­—å…¸å‚æ•°ã€‚</p>

<p>å°†æ•°æ®å¡«å……è¿›æ¨¡æ¿æ–‡ä»¶ï¼Œæœ€åæŠŠç»“æœè¿”å›ç»™æµè§ˆå™¨ã€‚ï¼ˆç±»ä¼¼äºæˆ‘ä»¬ä¸Šé¢ç”¨åˆ°çš„jinja2ï¼‰</p>

<p>ä¾‹å¦‚ï¼š</p>

<p>â€‹<br />
â€‹    def index(request):
â€‹        # ä¸šåŠ¡é€»è¾‘ä»£ç 
â€‹        return render(request, &ldquo;index.html&rdquo;, {&ldquo;name&rdquo;: &ldquo;alex&rdquo;, &ldquo;hobby&rdquo;: [&ldquo;çƒ«å¤´&rdquo;, &ldquo;æ³¡å§&rdquo;]})</p>

<h3 id="redirect">redirect</h3>

<p>æ¥å—ä¸€ä¸ªURLå‚æ•°ï¼Œè¡¨ç¤ºè·³è½¬åˆ°æŒ‡å®šçš„URLã€‚</p>

<p>ä¾‹å¦‚ï¼š</p>

<p>â€‹<br />
â€‹    def index(request):
â€‹        # ä¸šåŠ¡é€»è¾‘ä»£ç 
â€‹        return redirect(&ldquo;/home/&rdquo;)</p>

<h2 id="è¯¾åç»ƒä¹ ">è¯¾åç»ƒä¹ ï¼š</h2>

<p>Djangoç‰ˆç™»å½•</p>

<h2 id="å¯åŠ¨djangoæŠ¥é”™">å¯åŠ¨DjangoæŠ¥é”™ï¼š</h2>

<p>Django å¯åŠ¨æ—¶æŠ¥é”™ UnicodeEncodeError &hellip;</p>

<p>æŠ¥è¿™ä¸ªé”™è¯¯é€šå¸¸æ˜¯å› ä¸ºè®¡ç®—æœºåä¸ºä¸­æ–‡ï¼Œæ”¹æˆè‹±æ–‡çš„è®¡ç®—æœºåé‡å¯ä¸‹ç”µè„‘å°±å¯ä»¥äº†ã€‚</p>
        </div>

    </div>

</div>


<nav aria-label="Page navigation">
    <ul class="pager">
        
        <li class="previous">
            <a href="/2018/03/21/cnblog_8616189/" title="Pythonè¿æ¥MySQLæ•°æ®åº“ä¹‹pymysqlæ¨¡å—ä½¿ç”¨" data-toggle="tooltip" data-placement="top">
            <span aria-hidden="true">&larr;</span>
                ä¸Šä¸€é¡µ
            </a>
        </li>
        

        
        <li class="next">
            <a href="/about/" title="å…³äº" data-toggle="tooltip" data-placement="top">
                ä¸‹ä¸€é¡µ
            <span aria-hidden="true">&rarr;</span>
            </a>
        </li>
        
    </ul>
</nav>



<div class="reward" id="reward">

    <div class="reward-comment">
         <span> ğŸğŸè¿˜æ˜¯è¦æ”¾çš„ï¼Œä¸‡ä¸€çœŸæœ‰äººæ”¯æŒå˜ï¼ğŸ¤£ğŸ¤£ğŸ¤£</span>
    </div>

    
    <button type="button" class="btn btn-primary btn-lg reward-button" data-toggle="modal" data-target="#myModal">
        æ”¯æŒä¸€ä¸‹
    </button>

    
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel">æ¥æ¯å’–å•¡</h4>
                </div>
                <div class="modal-body">
                    <div class="reward-body" id="reward-body">

                        <div class="row">
                            <div class="col-xs-6">
                                
                                <div class="reward-qr">
                                    <img src="/images/WeChatPay.png" alt="wechatpay_qrcode" class="img-responsive img-thumbnail">
                                    <span>å¾®ä¿¡</span>
                                </div>
                            </div>
                            <div class="col-xs-6">
                                
                                <div class="reward-qr">
                                    <img src="/images/AliPay.png" alt="wechatpay_qrcode" class="img-responsive img-thumbnail">
                                    <span>æ”¯ä»˜å®</span>
                                </div>
                            </div>
                        </div>


                    </div>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

</div>





<div class="comments" id="comments">
    

    <script src="https://utteranc.es/client.js"
        repo="wevsmy/wevsmy.github.io"
        issue-term="title"
        theme="github-light"
        crossorigin="anonymous"
        async>
    </script>

    
</div>




                
            </div>
            
            <aside class="sidebar" id="sidebar" style="background: url(/images/background.png);">

    <div class="info sidebar-item" id="info">

        
        
        <img class="author-avatar" src="/images/avatar.png" alt="wilson">
        
        

        <h2 class="author-name">wilson</h2>
        <h3 class="author-description">Ù©(à¹‘â›á´—â›à¹‘)Û¶</h3>
        <div class="site-count">
            
            
            
            
            
            <div class="count-block">
                <div class="site-count-title">å½’æ¡£</div>
                <div><a href="/posts/">84</a></div>
            </div>
            
            
            
            <div class="count-block">
                <div class="site-count-title">åˆ†ç±»</div>
                <div><a href="/categories/">2</a></div>
            </div>
            
            
            
            <div class="count-block">
                <div class="site-count-title">æ ‡ç­¾</div>
                <div><a href="/tags/">
                    
                    
                    
                    
                    
                    
                    
                    
                    35
                </a></div>
            </div>
            
            
            
            
        </div>

        <div class="rss">
            <a class="btn rss-link" href="https://blog.weii.ink/index.xml"
               type="application/rss+xml" title="rss">
                <i class="iconfont iconrss rss-icon"> RSS</i>
            </a>
        </div>

    </div>

    <div class="sidebar-sticky">

        
        
        <hr>
        <div class="post-toc sidebar-item">
            <div><i class="iconfont iconorderedlist"></i> æ–‡ç« ç›®å½•</div>
            <nav id="TableOfContents">
<ul>
<li><a href="#è¿™æ˜¯-djangoåŸºç¡€01-çš„æ‘˜è¦-2018-03-22-cnblog-8621513"><a href="/2018/03/22/cnblog_8621513/">è¿™æ˜¯ğŸ‘‰DjangoåŸºç¡€01ğŸ‘ˆçš„æ‘˜è¦</a></a></li>
<li><a href="#webæ¡†æ¶æœ¬è´¨">Webæ¡†æ¶æœ¬è´¨</a>
<ul>
<li><a href="#django">Django</a>
<ul>
<li><a href="#å®‰è£…-å®‰è£…æœ€æ–°ltsç‰ˆ">å®‰è£…ï¼ˆå®‰è£…æœ€æ–°LTSç‰ˆï¼‰ï¼š</a></li>
<li><a href="#åˆ›å»ºä¸€ä¸ªdjangoé¡¹ç›®">åˆ›å»ºä¸€ä¸ªdjangoé¡¹ç›®ï¼š</a></li>
<li><a href="#ç›®å½•ä»‹ç»">ç›®å½•ä»‹ç»ï¼š</a></li>
<li><a href="#è¿è¡Œdjangoé¡¹ç›®">è¿è¡ŒDjangoé¡¹ç›®ï¼š</a></li>
<li><a href="#æ¨¡æ¿æ–‡ä»¶é…ç½®">æ¨¡æ¿æ–‡ä»¶é…ç½®ï¼š</a></li>
<li><a href="#é™æ€æ–‡ä»¶é…ç½®">é™æ€æ–‡ä»¶é…ç½®ï¼š</a></li>
</ul></li>
<li><a href="#djangoåŸºç¡€å¿…å¤‡ä¸‰ä»¶å¥—">DjangoåŸºç¡€å¿…å¤‡ä¸‰ä»¶å¥—ï¼š</a>
<ul>
<li><a href="#httpresponse">HttpResponse</a></li>
<li><a href="#render">render</a></li>
<li><a href="#redirect">redirect</a></li>
</ul></li>
<li><a href="#è¯¾åç»ƒä¹ ">è¯¾åç»ƒä¹ ï¼š</a></li>
<li><a href="#å¯åŠ¨djangoæŠ¥é”™">å¯åŠ¨DjangoæŠ¥é”™ï¼š</a></li>
</ul></li>
</ul>
</nav>
        </div>
        
        
        <hr>
        <div class="social-link sidebar-item">
            <div><i class="iconfont iconidcard"></i> ç¤¾äº¤é“¾æ¥</div>
            <ul>
                
                <li>
                    <a href="https://github.com/wevsmy" data-toggle="tooltip" data-placement="top"
                       title="O__O ">
                        <i class="iconfont icongithub-fill"></i> GitHub
                    </a>
                </li>
                
                <li>
                    <a href="https://weibo.com/wevsmy" data-toggle="tooltip" data-placement="top"
                       title="O__O ">
                        <i class="iconfont iconweibo"></i> Weibo
                    </a>
                </li>
                
                <li>
                    <a href="mailto:wevsmy@gmail.com" data-toggle="tooltip" data-placement="top"
                       title="O__O ">
                        <i class="iconfont iconmail"></i> E-Mail
                    </a>
                </li>
                
            </ul>
        </div>
        <hr>
        <div class="blogroll sidebar-item">
            <div><i class="iconfont iconlink"></i> å‹æƒ…é“¾æ¥</div>
            <ul>
                
                <li>
                    <a href="https://blog.weii.ink" target="_blank" data-toggle="tooltip" data-placement="top"
                       title="â•®(â•¯â–½â•°)â•­">
                        <i class="iconfont iconcode"></i> wilson&#39;s blog
                    </a>
                </li>
                
                <li>
                    <a href="https://github.com/wevsmy" target="_blank" data-toggle="tooltip" data-placement="top"
                       title="O__O ">
                        <i class="iconfont icongithub-fill"></i> GitHub
                    </a>
                </li>
                
                <li>
                    <a href="https://github.com/wevsmy" target="_blank" data-toggle="tooltip" data-placement="top"
                       title="O__O ">
                        <i class="iconfont iconheart"></i> å‹é“¾æ‹›ç§ŸğŸ¤ª
                    </a>
                </li>
                
            </ul>
        </div>
    </div>

</aside>

        </div>
    </div>
</main>


<footer id="footer" class="footer" 
        style="background: #333333;" >

    <div class="container">
        <div class="back-to-top">
            <a href="#top">
                <button id="back-to-top">
                    <i class="iconfont iconrocket back-to-top-i" aria-label="true"></i>
                </button>
            </a>
        </div>

        <div class="footer-container">
            <div class="footer-left">
                <div class="copyright">
                    <span class="author">
                        <a href="https://blog.weii.ink" target="_blank">
                            <abbr title="(â‰§Oâ‰¦)" data-toggle="tooltip" data-placement="top">
                                wilson
                            </abbr>
                        </a>
                    </span>
                    <i class="iconfont iconheart" aria-hidden="true"></i>
                    <span class="year">2014 - 2019</span>
                    
                    <span class="creative-commons">
                        <i class="iconfont iconcopyright" aria-hidden="true"></i>
                        <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/"
                           target="_blank">BY-NC-SA 4.0</a>
                    </span>
                    
                </div>
                
                <div class="busuanzi">
                    <span id="busuanzi_container_site_pv">
                        <i class="iconfont iconeye" aria-label="ç«™ç‚¹ç‚¹å‡»é‡" aria-hidden="false"></i>
                        <span id="busuanzi_value_site_pv"></span>
                    </span>
                    <span id="busuanzi_container_site_uv">
                        <i class="iconfont iconuser" aria-label="ç«™ç‚¹ç”¨æˆ·æ•°" aria-hidden="false"></i>
                        <span id="busuanzi_value_site_uv"></span>
                    </span>
                    <span id="busuanzi_container_page_pv">
                        <i class="iconfont iconsolution"></i>
                        <span id="busuanzi_value_page_pv" aria-label="é¡µé¢ç‚¹å‡»é‡" aria-hidden="false"></span>
                    </span>
                </div>
                


            </div>
            <div class="footer-right">
                <div class="custom-info">
                    <a href="/sitemap.xml" target="_blank">SiteMap</a>
                    <i class="iconfont icongithub-fill"></i>
                    <a href="https://pages.github.com/" target="_blank">GitHub Pages</a>
                    <iframe style="margin-left:2px;margin-bottom:-5px;"
                            frameborder="0" scrolling="0" width="82px"
                            height="20px"
                            src="https://ghbtns.com/github-btn.html?user=wevsmy&repo=hugo-theme-weii&type=star&count=true">
                    </iframe>
                </div>

                <div class="powered-by">ç”±
                    <a href="https://gohugo.io" target="_blank">Hugo</a> å¼ºåŠ›é©±åŠ¨ | ç§»æ¤
                    <a href="https://github.com/wevsmy/hugo-theme-weii" target="_blank">WEII</a> | é¸£è°¢
                    <a href="https://github.com/AlynxZhou/hexo-theme-aria" target="_blank">ARIA</a>
                </div>

            </div>
        </div>
    </div>
</footer>









<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js"></script>







<script type="text/javascript" color="0,0,255" opacity='0.7' zIndex="-2" count="99" src="/js/canvas-nest.js"></script>





<script type="text/javascript" src="/js/love.js"></script>




<script type="text/javascript" src="/js/weii.js"></script>
</body>
</html>