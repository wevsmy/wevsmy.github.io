---
title: python è¿­ä»£å™¨
date: 2018-01-03 06:21:00
categories:
- ç¬”è®°
- åšå®¢å›­
tags:
- åšå®¢å›­
- æ¬å®¶
- cnblogs
---
# [è¿™æ˜¯ğŸ‘‰python è¿­ä»£å™¨ğŸ‘ˆçš„æ‘˜è¦](/2018/01/03/cnblog_8183568/)
<!--more-->
# è¿­ä»£å™¨

è¿­ä»£æ˜¯è®¿é—®é›†åˆå…ƒç´ çš„ä¸€ç§æ–¹å¼ã€‚è¿­ä»£å™¨æ˜¯ä¸€ä¸ªå¯ä»¥è®°ä½éå†çš„ä½ç½®çš„å¯¹è±¡ã€‚è¿­ä»£å™¨å¯¹è±¡ä»é›†åˆçš„ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹è®¿é—®ï¼Œç›´åˆ°æ‰€æœ‰çš„å…ƒç´ è¢«è®¿é—®å®Œç»“æŸã€‚è¿­ä»£å™¨åªèƒ½å¾€å‰ä¸ä¼šåé€€ã€‚

## 1\. å¯è¿­ä»£å¯¹è±¡

ä»¥ç›´æ¥ä½œç”¨äº for å¾ªç¯çš„æ•°æ®ç±»å‹æœ‰ä»¥ä¸‹å‡ ç§ï¼š

ä¸€ç±»æ˜¯é›†åˆæ•°æ®ç±»å‹ï¼Œå¦‚ list ã€ tuple ã€ dict ã€ set ã€ str ç­‰ï¼›

ä¸€ç±»æ˜¯ generator ï¼ŒåŒ…æ‹¬ç”Ÿæˆå™¨å’Œå¸¦ yield çš„generator functionã€‚

è¿™äº›å¯ä»¥ç›´æ¥ä½œç”¨äº for å¾ªç¯çš„å¯¹è±¡ç»Ÿç§°ä¸ºå¯è¿­ä»£å¯¹è±¡ï¼š Iterable ã€‚

## 2\. åˆ¤æ–­æ˜¯å¦å¯ä»¥è¿­ä»£

å¯ä»¥ä½¿ç”¨ isinstance() åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ Iterable å¯¹è±¡ï¼š

    
    
    In [50]: from collections import Iterable
    
    In [51]: isinstance([], Iterable)
    Out[51]: True
    
    In [52]: isinstance({}, Iterable)
    Out[52]: True
    
    In [53]: isinstance('abc', Iterable)
    Out[53]: True
    
    In [54]: isinstance((x for x in range(10)), Iterable)
    Out[54]: True
    
    In [55]: isinstance(100, Iterable)
    Out[55]: False

è€Œç”Ÿæˆå™¨ä¸ä½†å¯ä»¥ä½œç”¨äº for å¾ªç¯ï¼Œè¿˜å¯ä»¥è¢« next() å‡½æ•°ä¸æ–­è°ƒç”¨å¹¶è¿”å›ä¸‹ä¸€ä¸ªå€¼ï¼Œç›´åˆ°æœ€åæŠ›å‡º StopIteration
é”™è¯¯è¡¨ç¤ºæ— æ³•ç»§ç»­è¿”å›ä¸‹ä¸€ä¸ªå€¼äº†ã€‚

## 3.è¿­ä»£å™¨

å¯ä»¥è¢«next()å‡½æ•°è°ƒç”¨å¹¶ä¸æ–­è¿”å›ä¸‹ä¸€ä¸ªå€¼çš„å¯¹è±¡ç§°ä¸ºè¿­ä»£å™¨ï¼šIteratorã€‚

å¯ä»¥ä½¿ç”¨ isinstance() åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ Iterator å¯¹è±¡ï¼š

    
    
    In [56]: from collections import Iterator
    
    In [57]: isinstance((x for x in range(10)), Iterator)
    Out[57]: True
    
    In [58]: isinstance([], Iterator)
    Out[58]: False
    
    In [59]: isinstance({}, Iterator)
    Out[59]: False
    
    In [60]: isinstance('abc', Iterator)
    Out[60]: False
    
    In [61]: isinstance(100, Iterator)
    Out[61]: False

## 4.iter()å‡½æ•°

ç”Ÿæˆå™¨éƒ½æ˜¯ Iterator å¯¹è±¡ï¼Œä½† list ã€ dict ã€ str è™½ç„¶æ˜¯ Iterable ï¼Œå´ä¸æ˜¯ Iterator ã€‚

æŠŠ list ã€ dict ã€ str ç­‰ Iterable å˜æˆ Iterator å¯ä»¥ä½¿ç”¨ iter() å‡½æ•°ï¼š

    
    
    In [62]: isinstance(iter([]), Iterator)
    Out[62]: True
    
    In [63]: isinstance(iter('abc'), Iterator)
    Out[63]: True

## æ€»ç»“

  * å‡¡æ˜¯å¯ä½œç”¨äº for å¾ªç¯çš„å¯¹è±¡éƒ½æ˜¯ Iterable ç±»å‹ï¼›
  * å‡¡æ˜¯å¯ä½œç”¨äº next() å‡½æ•°çš„å¯¹è±¡éƒ½æ˜¯ Iterator ç±»å‹
  * é›†åˆæ•°æ®ç±»å‹å¦‚ list ã€ dict ã€ str ç­‰æ˜¯ Iterable ä½†ä¸æ˜¯ Iterator ï¼Œä¸è¿‡å¯ä»¥é€šè¿‡ iter() å‡½æ•°è·å¾—ä¸€ä¸ª Iterator å¯¹è±¡ã€‚


