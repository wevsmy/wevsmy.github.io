---
title: python æ—¶é—´æ¨¡å—time
date: 2018-01-10 07:16:00
categories:
- ç¬”è®°
- åšå®¢å›­
tags:
- åšå®¢å›­
- æ¬å®¶
- cnblogs
---
# [è¿™æ˜¯ğŸ‘‰python æ—¶é—´æ¨¡å—timeğŸ‘ˆçš„æ‘˜è¦](/2018/01/10/cnblog_8258730/)
<!--more-->
# timeæ¨¡å—

### æ—¶é—´æ¨¡å—

### 1 æ€ç»´å¯¼å›¾

[![python æ¨¡å—](http://on-
img.com/chart_image/5a5441d4e4b0abe85d46b5f4.png)](https://www.processon.com/view/link/5a548e2ee4b010a6e70c13d6
"python æ¨¡å—")



å’Œæ—¶é—´æœ‰å…³ç³»çš„æˆ‘ä»¬å°±è¦ç”¨åˆ°æ—¶é—´æ¨¡å—ã€‚åœ¨ä½¿ç”¨æ¨¡å—ä¹‹å‰ï¼Œåº”è¯¥é¦–å…ˆå¯¼å…¥è¿™ä¸ªæ¨¡å—ã€‚

    
    
    #å¸¸ç”¨æ–¹æ³•
    1.time.sleep(secs)
    (çº¿ç¨‹)æ¨è¿ŸæŒ‡å®šçš„æ—¶é—´è¿è¡Œã€‚å•ä½ä¸ºç§’ã€‚
    2.time.time()
    è·å–å½“å‰æ—¶é—´æˆ³



**è¡¨ç¤ºæ—¶é—´çš„ä¸‰ç§æ–¹å¼**

åœ¨Pythonä¸­ï¼Œé€šå¸¸æœ‰è¿™ä¸‰ç§æ–¹å¼æ¥è¡¨ç¤ºæ—¶é—´ï¼šæ—¶é—´æˆ³ã€å…ƒç»„(struct_time)ã€æ ¼å¼åŒ–çš„æ—¶é—´å­—ç¬¦ä¸²ï¼š

(1)æ—¶é—´æˆ³(timestamp)
ï¼šé€šå¸¸æ¥è¯´ï¼Œæ—¶é—´æˆ³è¡¨ç¤ºçš„æ˜¯ä»1970å¹´1æœˆ1æ—¥00:00:00å¼€å§‹æŒ‰ç§’è®¡ç®—çš„åç§»é‡ã€‚æˆ‘ä»¬è¿è¡Œ"type(time.time())"ï¼Œè¿”å›çš„æ˜¯floatç±»å‹ã€‚

(2)æ ¼å¼åŒ–çš„æ—¶é—´å­—ç¬¦ä¸²(Format String)ï¼š '1999-12-06'

![](http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif)![](http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif)

    
    
    %y ä¸¤ä½æ•°çš„å¹´ä»½è¡¨ç¤ºï¼ˆ00-99ï¼‰
    %Y å››ä½æ•°çš„å¹´ä»½è¡¨ç¤ºï¼ˆ000-9999ï¼‰
    %m æœˆä»½ï¼ˆ01-12ï¼‰
    %d æœˆå†…ä¸­çš„ä¸€å¤©ï¼ˆ0-31ï¼‰
    %H 24å°æ—¶åˆ¶å°æ—¶æ•°ï¼ˆ0-23ï¼‰
    %I 12å°æ—¶åˆ¶å°æ—¶æ•°ï¼ˆ01-12ï¼‰
    %M åˆ†é’Ÿæ•°ï¼ˆ00=59ï¼‰
    %S ç§’ï¼ˆ00-59ï¼‰
    %a æœ¬åœ°ç®€åŒ–æ˜ŸæœŸåç§°
    %A æœ¬åœ°å®Œæ•´æ˜ŸæœŸåç§°
    %b æœ¬åœ°ç®€åŒ–çš„æœˆä»½åç§°
    %B æœ¬åœ°å®Œæ•´çš„æœˆä»½åç§°
    %c æœ¬åœ°ç›¸åº”çš„æ—¥æœŸè¡¨ç¤ºå’Œæ—¶é—´è¡¨ç¤º
    %j å¹´å†…çš„ä¸€å¤©ï¼ˆ001-366ï¼‰
    %p æœ¬åœ°A.M.æˆ–P.M.çš„ç­‰ä»·ç¬¦
    %U ä¸€å¹´ä¸­çš„æ˜ŸæœŸæ•°ï¼ˆ00-53ï¼‰æ˜ŸæœŸå¤©ä¸ºæ˜ŸæœŸçš„å¼€å§‹
    %w æ˜ŸæœŸï¼ˆ0-6ï¼‰ï¼Œæ˜ŸæœŸå¤©ä¸ºæ˜ŸæœŸçš„å¼€å§‹
    %W ä¸€å¹´ä¸­çš„æ˜ŸæœŸæ•°ï¼ˆ00-53ï¼‰æ˜ŸæœŸä¸€ä¸ºæ˜ŸæœŸçš„å¼€å§‹
    %x æœ¬åœ°ç›¸åº”çš„æ—¥æœŸè¡¨ç¤º
    %X æœ¬åœ°ç›¸åº”çš„æ—¶é—´è¡¨ç¤º
    %Z å½“å‰æ—¶åŒºçš„åç§°
    %% %å·æœ¬èº«

View Code

(3)å…ƒç»„(struct_time) ï¼šstruct_timeå…ƒç»„å…±æœ‰9ä¸ªå…ƒç´ å…±ä¹ä¸ªå…ƒç´ :(å¹´ï¼Œæœˆï¼Œæ—¥ï¼Œæ—¶ï¼Œåˆ†ï¼Œç§’ï¼Œä¸€å¹´ä¸­ç¬¬å‡ å‘¨ï¼Œä¸€å¹´ä¸­ç¬¬å‡ å¤©ç­‰ï¼‰

ç´¢å¼•ï¼ˆIndexï¼‰| å±æ€§ï¼ˆAttributeï¼‰| å€¼ï¼ˆValuesï¼‰  
---|---|---  
0 | tm_yearï¼ˆå¹´ï¼‰ | æ¯”å¦‚2011  
1 | tm_monï¼ˆæœˆï¼‰ | 1 - 12  
2 | tm_mdayï¼ˆæ—¥ï¼‰ | 1 - 31  
3 | tm_hourï¼ˆæ—¶ï¼‰ | 0 - 23  
4 | tm_minï¼ˆåˆ†ï¼‰ | 0 - 59  
5 | tm_secï¼ˆç§’ï¼‰ | 0 - 60  
6 | tm_wdayï¼ˆweekdayï¼‰ | 0 - 6ï¼ˆ0è¡¨ç¤ºå‘¨ä¸€ï¼‰  
7 | tm_ydayï¼ˆä¸€å¹´ä¸­çš„ç¬¬å‡ å¤©ï¼‰ | 1 - 366  
8 | tm_isdstï¼ˆæ˜¯å¦æ˜¯å¤ä»¤æ—¶ï¼‰ | é»˜è®¤ä¸º0  
  
 é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆå¯¼å…¥timeæ¨¡å—ï¼Œæ¥è®¤è¯†ä¸€ä¸‹pythonä¸­è¡¨ç¤ºæ—¶é—´çš„å‡ ç§æ ¼å¼ï¼š

    
    
    #å¯¼å…¥æ—¶é—´æ¨¡å—
    >>>import time
    
    #æ—¶é—´æˆ³
    >>>time.time()
    1500875844.800804
    
    #æ—¶é—´å­—ç¬¦ä¸²
    >>>time.strftime("%Y-%m-%d %X")
    '2017-07-24 13:54:37'
    >>>time.strftime("%Y-%m-%d %H-%M-%S")
    '2017-07-24 13-55-04'
    
    #æ—¶é—´å…ƒç»„:localtimeå°†ä¸€ä¸ªæ—¶é—´æˆ³è½¬æ¢ä¸ºå½“å‰æ—¶åŒºçš„struct_time
    time.localtime()
    time.struct_time(tm_year=2017, tm_mon=7, tm_mday=24,
    ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€tm_hour=13, tm_min=59, tm_sec=37, 
                     tm_wday=0, tm_yday=205, tm_isdst=0)

å°ç»“ï¼šæ—¶é—´æˆ³æ˜¯è®¡ç®—æœºèƒ½å¤Ÿè¯†åˆ«çš„æ—¶é—´ï¼›æ—¶é—´å­—ç¬¦ä¸²æ˜¯äººèƒ½å¤Ÿçœ‹æ‡‚çš„æ—¶é—´ï¼›å…ƒç»„åˆ™æ˜¯ç”¨æ¥æ“ä½œæ—¶é—´çš„

**å‡ ç§æ ¼å¼ä¹‹é—´çš„è½¬æ¢**

![](https://images2015.cnblogs.com/blog/827651/201707/827651-20170724144151992-1508626640.png)

    
    
    #æ—¶é—´æˆ³-->ç»“æ„åŒ–æ—¶é—´
    #time.gmtime(æ—¶é—´æˆ³)    #UTCæ—¶é—´ï¼Œä¸è‹±å›½ä¼¦æ•¦å½“åœ°æ—¶é—´ä¸€è‡´
    #time.localtime(æ—¶é—´æˆ³) #å½“åœ°æ—¶é—´ã€‚ä¾‹å¦‚æˆ‘ä»¬ç°åœ¨åœ¨åŒ—äº¬æ‰§è¡Œè¿™ä¸ªæ–¹æ³•ï¼šä¸UTCæ—¶é—´ç›¸å·®8å°æ—¶ï¼ŒUTCæ—¶é—´+8å°æ—¶ = åŒ—äº¬æ—¶é—´ 
    >>>time.gmtime(1500000000)
    time.struct_time(tm_year=2017, tm_mon=7, tm_mday=14, tm_hour=2, tm_min=40, tm_sec=0, tm_wday=4, tm_yday=195, tm_isdst=0)
    >>>time.localtime(1500000000)
    time.struct_time(tm_year=2017, tm_mon=7, tm_mday=14, tm_hour=10, tm_min=40, tm_sec=0, tm_wday=4, tm_yday=195, tm_isdst=0)
    
    #ç»“æ„åŒ–æ—¶é—´-->æ—¶é—´æˆ³ã€€
    #time.mktime(ç»“æ„åŒ–æ—¶é—´)
    >>>time_tuple = time.localtime(1500000000)
    >>>time.mktime(time_tuple)
    1500000000.0
    
    
    #ç»“æ„åŒ–æ—¶é—´-->å­—ç¬¦ä¸²æ—¶é—´
    #time.strftime("æ ¼å¼å®šä¹‰","ç»“æ„åŒ–æ—¶é—´")  ç»“æ„åŒ–æ—¶é—´å‚æ•°è‹¥ä¸ä¼ ï¼Œåˆ™ç°å®å½“å‰æ—¶é—´
    >>>time.strftime("%Y-%m-%d %X")
    '2017-07-24 14:55:36'
    >>>time.strftime("%Y-%m-%d",time.localtime(1500000000))
    '2017-07-14'
    
    #å­—ç¬¦ä¸²æ—¶é—´-->ç»“æ„åŒ–æ—¶é—´
    #time.strptime(æ—¶é—´å­—ç¬¦ä¸²,å­—ç¬¦ä¸²å¯¹åº”æ ¼å¼)
    >>>time.strptime("2017-03-16","%Y-%m-%d")
    time.struct_time(tm_year=2017, tm_mon=3, tm_mday=16, tm_hour=0, tm_min=0, tm_sec=0, tm_wday=3, tm_yday=75, tm_isdst=-1)
    >>>time.strptime("07/24/2017","%m/%d/%Y")
    time.struct_time(tm_year=2017, tm_mon=7, tm_mday=24, tm_hour=0, tm_min=0, tm_sec=0, tm_wday=0, tm_yday=205, tm_isdst=-1)



![](https://images2015.cnblogs.com/blog/827651/201707/827651-20170724144235883-1963884021.png)

    
    
    #ç»“æ„åŒ–æ—¶é—´ --> %a %b %d %H:%M:%S %Yä¸²
    #time.asctime(ç»“æ„åŒ–æ—¶é—´) å¦‚æœä¸ä¼ å‚æ•°ï¼Œç›´æ¥è¿”å›å½“å‰æ—¶é—´çš„æ ¼å¼åŒ–ä¸²
    >>>time.asctime(time.localtime(1500000000))
    'Fri Jul 14 10:40:00 2017'
    >>>time.asctime()
    'Mon Jul 24 15:18:33 2017'
    
    #%a %d %d %H:%M:%S %Yä¸² --> ç»“æ„åŒ–æ—¶é—´
    #time.ctime(æ—¶é—´æˆ³)  å¦‚æœä¸ä¼ å‚æ•°ï¼Œç›´æ¥è¿”å›å½“å‰æ—¶é—´çš„æ ¼å¼åŒ–ä¸²
    >>>time.ctime()
    'Mon Jul 24 15:19:07 2017'
    >>>time.ctime(1500000000)
    'Fri Jul 14 10:40:00 2017' 

![](http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif)![](http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif)

    
    
    import time
    true_time=time.mktime(time.strptime('2017-09-11 08:30:00','%Y-%m-%d %H:%M:%S'))
    time_now=time.mktime(time.strptime('2017-09-12 11:00:00','%Y-%m-%d %H:%M:%S'))
    dif_time=time_now-true_time
    struct_time=time.gmtime(dif_time)
    print('è¿‡å»äº†%då¹´%dæœˆ%då¤©%då°æ—¶%dåˆ†é’Ÿ%dç§’'%(struct_time.tm_year-1970,struct_time.tm_mon-1,
                                           struct_time.tm_mday-1,struct_time.tm_hour,
                                           struct_time.tm_min,struct_time.tm_sec))

View Code




