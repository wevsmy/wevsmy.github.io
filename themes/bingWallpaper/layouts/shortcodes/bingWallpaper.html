<!-- JS -->

<!-- CSS -->
{{ $scss := resources.Get "css/bingWallpaper.scss" | resources.ToCSS }}
{{ $css := resources.Get "css/bingWallpaper.css" }}

{{ $bundle := slice ($scss) ($css) | resources.Concat "css/bingWallpaper.bundle.css" | postCSS (dict "config" "./assets/css/postcss.config.js") }}

{{- $style := $bundle | resources.Minify -}}
{{- if .Site.Params.enableFingerprint -}}
{{- $style = $style | resources.Fingerprint -}}
<link rel="stylesheet" href="{{ $style.RelPermalink }}" {{- if .Site.Params.enableSRI }}
    integrity="{{ $style.Data.Integrity }}" crossorigin="anonymous" {{- end -}} />
{{- else -}}
<link rel="stylesheet" href="{{ $style.RelPermalink }}" />
{{- end -}}

<!-- HTML -->
<div id="bingWallpaper" class="bingWallpaper"></div>

<!-- JSX -->
{{ $shims := dict }}
{{ $defines := dict }}
{{ if hugo.IsProduction }}
    {{ $shims = dict "react" "js/shims/react.js"  "react-dom" "js/shims/react-dom.js" }}
{{ else }}
    {{ $defines = dict "process.env.NODE_ENV" `"development"` }}
{{ end }}
{{ $js := resources.Get "js/bingWallpaper.jsx" | js.Build (dict "shims" $shims "defines" $defines ) }}
<script src="{{ $js.RelPermalink }}"></script>



